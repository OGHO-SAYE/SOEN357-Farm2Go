"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/layout",{

/***/ "(app-pages-browser)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"2908c448f809\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6IjtBQUFBLCtEQUFlLGNBQWM7QUFDN0IsSUFBSSxJQUFVLElBQUksaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvZ2xvYmFscy5jc3M/MmMwOSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjI5MDhjNDQ4ZjgwOVwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/globals.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/context/cart-context.tsx":
/*!******************************************!*\
  !*** ./src/lib/context/cart-context.tsx ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CartProvider: function() { return /* binding */ CartProvider; },\n/* harmony export */   useCart: function() { return /* binding */ useCart; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\nconst CartContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null);\nconst useCart = ()=>{\n    _s();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(CartContext);\n    if (!context) {\n        throw new Error(\"useCart must be used within a CartProvider\");\n    }\n    return context;\n};\n_s(useCart, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nfunction CartProvider(param) {\n    let { children } = param;\n    _s1();\n    const [items, setItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [itemCount, setItemCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [toast, setToast] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        open: false,\n        title: \"\",\n        description: \"\",\n        variant: \"success\"\n    });\n    // Get user ID from cookies\n    const getUserId = ()=>{\n        // In a client component, we'd use cookies or localStorage\n        // For now, we'll assume the user ID is stored in localStorage\n        return  true ? localStorage.getItem(\"userId\") : 0;\n    };\n    // Fetch cart items when component mounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        loadCartItems();\n        // Add event listener for storage changes (login/logout)\n        const handleStorageChange = (e)=>{\n            // If localStorage changed (login/logout) or manually triggered\n            if (e instanceof StorageEvent) {\n                if (e.key === \"userId\" || e.key === \"userFirstName\" || e.key === null) {\n                    loadCartItems();\n                }\n            } else {\n                // For manually dispatched events\n                loadCartItems();\n            }\n        };\n        // Listen for storage changes\n        window.addEventListener(\"storage\", handleStorageChange);\n        // Clean up event listener\n        return ()=>{\n            window.removeEventListener(\"storage\", handleStorageChange);\n        };\n    }, []);\n    // Fetch cart items from API\n    const loadCartItems = async ()=>{\n        const userId = getUserId();\n        if (!userId) return;\n        setIsLoading(true);\n        try {\n            const response = await fetch(\"/api/cart?userId=\".concat(userId));\n            if (response.ok) {\n                const data = await response.json();\n                setItems(data);\n                updateItemCount();\n            }\n        } catch (error) {\n            console.error(\"Error loading cart items:\", error);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Update item count from API\n    const updateItemCount = async ()=>{\n        const userId = getUserId();\n        if (!userId) return;\n        try {\n            const response = await fetch(\"/api/cart/count?userId=\".concat(userId));\n            if (response.ok) {\n                const data = await response.json();\n                setItemCount(data.count);\n            }\n        } catch (error) {\n            console.error(\"Error fetching cart count:\", error);\n        }\n    };\n    // Add item to cart\n    const addToCart = async (productId, quantity, name)=>{\n        const userId = getUserId();\n        if (!userId) {\n            showToast(\"Error\", \"Please log in to add items to your cart\", \"error\");\n            return;\n        }\n        setIsLoading(true);\n        try {\n            const response = await fetch(\"/api/cart\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    userId,\n                    productId,\n                    quantity\n                })\n            });\n            if (response.ok) {\n                await loadCartItems();\n                showToast(\"Added to cart\", \"\".concat(name, \" has been added to your cart\"), \"success\");\n            } else {\n                const error = await response.json();\n                showToast(\"Error\", error.error || \"Failed to add item to cart\", \"error\");\n            }\n        } catch (error) {\n            console.error(\"Error adding to cart:\", error);\n            showToast(\"Error\", \"Failed to add item to cart\", \"error\");\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Update item quantity\n    const updateQuantity = async (itemId, quantity)=>{\n        const userId = getUserId();\n        if (!userId || quantity < 1) return;\n        setIsLoading(true);\n        try {\n            // Find the cart item and its product ID\n            const cartItem = items.find((item)=>item.id === itemId);\n            if (!cartItem) return;\n            const response = await fetch(\"/api/cart\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    userId,\n                    productId: cartItem.product.id,\n                    quantity\n                })\n            });\n            if (response.ok) {\n                await loadCartItems();\n            } else {\n                const error = await response.json();\n                showToast(\"Error\", error.error || \"Failed to update quantity\", \"error\");\n            }\n        } catch (error) {\n            console.error(\"Error updating quantity:\", error);\n            showToast(\"Error\", \"Failed to update quantity\", \"error\");\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Remove item from cart\n    const removeItem = async (itemId)=>{\n        const userId = getUserId();\n        if (!userId) return;\n        setIsLoading(true);\n        try {\n            const response = await fetch(\"/api/cart?id=\".concat(itemId, \"&userId=\").concat(userId), {\n                method: \"DELETE\"\n            });\n            if (response.ok) {\n                await loadCartItems();\n                showToast(\"Item removed\", \"Item has been removed from your cart\", \"success\");\n            } else {\n                const error = await response.json();\n                showToast(\"Error\", error.error || \"Failed to remove item\", \"error\");\n            }\n        } catch (error) {\n            console.error(\"Error removing item:\", error);\n            showToast(\"Error\", \"Failed to remove item\", \"error\");\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Show toast notification\n    const showToast = (title, description, variant)=>{\n        setToast({\n            open: true,\n            title,\n            description,\n            variant\n        });\n        // Auto-hide toast after 3 seconds\n        setTimeout(()=>{\n            setToast((prev)=>({\n                    ...prev,\n                    open: false\n                }));\n        }, 3000);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CartContext.Provider, {\n        value: {\n            items,\n            itemCount,\n            addToCart,\n            updateQuantity,\n            removeItem,\n            isLoading\n        },\n        children: [\n            children,\n            toast.open && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed top-4 right-4 z-50 max-w-md rounded-lg shadow-lg p-4 flex items-start gap-4 transition-all transform translate-x-0\\n            \".concat(toast.variant === \"success\" ? \"bg-green-50 border border-green-500\" : \"bg-red-50 border border-red-500\"),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"font-medium \".concat(toast.variant === \"success\" ? \"text-green-700\" : \"text-red-700\"),\n                                children: toast.title\n                            }, void 0, false, {\n                                fileName: \"/Users/uoron/Desktop/WINTER_2025/SOEN357/SOEN357-Farm2Go/src/lib/context/cart-context.tsx\",\n                                lineNumber: 287,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm text-gray-600 mt-1\",\n                                children: toast.description\n                            }, void 0, false, {\n                                fileName: \"/Users/uoron/Desktop/WINTER_2025/SOEN357/SOEN357-Farm2Go/src/lib/context/cart-context.tsx\",\n                                lineNumber: 294,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/uoron/Desktop/WINTER_2025/SOEN357/SOEN357-Farm2Go/src/lib/context/cart-context.tsx\",\n                        lineNumber: 286,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"h-6 w-6 flex items-center justify-center text-gray-400 hover:text-gray-600 rounded-full\",\n                        onClick: ()=>setToast((prev)=>({\n                                    ...prev,\n                                    open: false\n                                })),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                className: \"h-4 w-4\",\n                                fill: \"none\",\n                                viewBox: \"0 0 24 24\",\n                                stroke: \"currentColor\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    strokeLinecap: \"round\",\n                                    strokeLinejoin: \"round\",\n                                    strokeWidth: 2,\n                                    d: \"M6 18L18 6M6 6l12 12\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/uoron/Desktop/WINTER_2025/SOEN357/SOEN357-Farm2Go/src/lib/context/cart-context.tsx\",\n                                    lineNumber: 309,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/uoron/Desktop/WINTER_2025/SOEN357/SOEN357-Farm2Go/src/lib/context/cart-context.tsx\",\n                                lineNumber: 302,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"sr-only\",\n                                children: \"Close\"\n                            }, void 0, false, {\n                                fileName: \"/Users/uoron/Desktop/WINTER_2025/SOEN357/SOEN357-Farm2Go/src/lib/context/cart-context.tsx\",\n                                lineNumber: 316,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/uoron/Desktop/WINTER_2025/SOEN357/SOEN357-Farm2Go/src/lib/context/cart-context.tsx\",\n                        lineNumber: 298,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/uoron/Desktop/WINTER_2025/SOEN357/SOEN357-Farm2Go/src/lib/context/cart-context.tsx\",\n                lineNumber: 278,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/uoron/Desktop/WINTER_2025/SOEN357/SOEN357-Farm2Go/src/lib/context/cart-context.tsx\",\n        lineNumber: 266,\n        columnNumber: 5\n    }, this);\n}\n_s1(CartProvider, \"Wz+bni/au4HQlqLDrQvcULbHkBg=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvY29udGV4dC9jYXJ0LWNvbnRleHQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEU7QUE0QjlFLE1BQU1LLDRCQUFjSixvREFBYUEsQ0FBeUI7QUFFbkQsTUFBTUssVUFBVTs7SUFDckIsTUFBTUMsVUFBVUwsaURBQVVBLENBQUNHO0lBQzNCLElBQUksQ0FBQ0UsU0FBUztRQUNaLE1BQU0sSUFBSUMsTUFBTTtJQUNsQjtJQUNBLE9BQU9EO0FBQ1QsRUFBRTtHQU5XRDtBQVlOLFNBQVNHLGFBQWEsS0FBK0I7UUFBL0IsRUFBRUMsUUFBUSxFQUFxQixHQUEvQjs7SUFDM0IsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdSLCtDQUFRQSxDQUFhLEVBQUU7SUFDakQsTUFBTSxDQUFDUyxXQUFXQyxhQUFhLEdBQUdWLCtDQUFRQSxDQUFTO0lBQ25ELE1BQU0sQ0FBQ1csV0FBV0MsYUFBYSxHQUFHWiwrQ0FBUUEsQ0FBVTtJQUNwRCxNQUFNLENBQUNhLE9BQU9DLFNBQVMsR0FBR2QsK0NBQVFBLENBSy9CO1FBQ0RlLE1BQU07UUFDTkMsT0FBTztRQUNQQyxhQUFhO1FBQ2JDLFNBQVM7SUFDWDtJQUVBLDJCQUEyQjtJQUMzQixNQUFNQyxZQUFZO1FBQ2hCLDBEQUEwRDtRQUMxRCw4REFBOEQ7UUFDOUQsT0FBTyxLQUE2QixHQUNoQ0MsYUFBYUMsT0FBTyxDQUFDLFlBQ3JCLENBQUk7SUFDVjtJQUVBLHlDQUF5QztJQUN6Q3RCLGdEQUFTQSxDQUFDO1FBQ1J1QjtRQUVBLHdEQUF3RDtRQUN4RCxNQUFNQyxzQkFBc0IsQ0FBQ0M7WUFDM0IsK0RBQStEO1lBQy9ELElBQUlBLGFBQWFDLGNBQWM7Z0JBQzdCLElBQUlELEVBQUVFLEdBQUcsS0FBSyxZQUFZRixFQUFFRSxHQUFHLEtBQUssbUJBQW1CRixFQUFFRSxHQUFHLEtBQUssTUFBTTtvQkFDckVKO2dCQUNGO1lBQ0YsT0FBTztnQkFDTCxpQ0FBaUM7Z0JBQ2pD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LE9BQU8sS0FBSyxZQUNkLHdDQUNBOztrQ0FHUiw4REFBQzRDO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ0Q7Z0NBQ0NDLFdBQVcsZUFFVixPQURDbEQsTUFBTUssT0FBTyxLQUFLLFlBQVksbUJBQW1COzBDQUdsREwsTUFBTUcsS0FBSzs7Ozs7OzBDQUVkLDhEQUFDOEM7Z0NBQUlDLFdBQVU7MENBQ1psRCxNQUFNSSxXQUFXOzs7Ozs7Ozs7Ozs7a0NBR3RCLDhEQUFDK0M7d0JBQ0NELFdBQVU7d0JBQ1ZFLFNBQVMsSUFBTW5ELFNBQVMsQ0FBQzZDLE9BQVU7b0NBQUUsR0FBR0EsSUFBSTtvQ0FBRTVDLE1BQU07Z0NBQU07OzBDQUUxRCw4REFBQ21EO2dDQUNDQyxPQUFNO2dDQUNOSixXQUFVO2dDQUNWSyxNQUFLO2dDQUNMQyxTQUFRO2dDQUNSQyxRQUFPOzBDQUVQLDRFQUFDQztvQ0FDQ0MsZUFBYztvQ0FDZEMsZ0JBQWU7b0NBQ2ZDLGFBQWE7b0NBQ2JDLEdBQUU7Ozs7Ozs7Ozs7OzBDQUdOLDhEQUFDQztnQ0FBS2IsV0FBVTswQ0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTXRDO0lBdlJnQjFEO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9saWIvY29udGV4dC9jYXJ0LWNvbnRleHQudHN4PzBjNTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRvYXN0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS90b2FzdFwiO1xuXG50eXBlIENhcnRJdGVtID0ge1xuICBpZDogc3RyaW5nO1xuICBxdWFudGl0eTogbnVtYmVyO1xuICBwcm9kdWN0OiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgcHJpY2U6IG51bWJlcjtcbiAgICB1bml0OiBzdHJpbmc7XG4gICAgaW1hZ2VVcmw6IHN0cmluZztcbiAgfTtcbn07XG5cbnR5cGUgQ2FydENvbnRleHRUeXBlID0ge1xuICBpdGVtczogQ2FydEl0ZW1bXTtcbiAgaXRlbUNvdW50OiBudW1iZXI7XG4gIGFkZFRvQ2FydDogKFxuICAgIHByb2R1Y3RJZDogc3RyaW5nLFxuICAgIHF1YW50aXR5OiBudW1iZXIsXG4gICAgbmFtZTogc3RyaW5nXG4gICkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgdXBkYXRlUXVhbnRpdHk6IChpdGVtSWQ6IHN0cmluZywgcXVhbnRpdHk6IG51bWJlcikgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcmVtb3ZlSXRlbTogKGl0ZW1JZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBpc0xvYWRpbmc6IGJvb2xlYW47XG59O1xuXG5jb25zdCBDYXJ0Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8Q2FydENvbnRleHRUeXBlIHwgbnVsbD4obnVsbCk7XG5cbmV4cG9ydCBjb25zdCB1c2VDYXJ0ID0gKCkgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChDYXJ0Q29udGV4dCk7XG4gIGlmICghY29udGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVzZUNhcnQgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIENhcnRQcm92aWRlclwiKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn07XG5cbnR5cGUgQ2FydFByb3ZpZGVyUHJvcHMgPSB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gQ2FydFByb3ZpZGVyKHsgY2hpbGRyZW4gfTogQ2FydFByb3ZpZGVyUHJvcHMpIHtcbiAgY29uc3QgW2l0ZW1zLCBzZXRJdGVtc10gPSB1c2VTdGF0ZTxDYXJ0SXRlbVtdPihbXSk7XG4gIGNvbnN0IFtpdGVtQ291bnQsIHNldEl0ZW1Db3VudF0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbdG9hc3QsIHNldFRvYXN0XSA9IHVzZVN0YXRlPHtcbiAgICBvcGVuOiBib29sZWFuO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICB2YXJpYW50OiBcInN1Y2Nlc3NcIiB8IFwiZXJyb3JcIjtcbiAgfT4oe1xuICAgIG9wZW46IGZhbHNlLFxuICAgIHRpdGxlOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIHZhcmlhbnQ6IFwic3VjY2Vzc1wiLFxuICB9KTtcblxuICAvLyBHZXQgdXNlciBJRCBmcm9tIGNvb2tpZXNcbiAgY29uc3QgZ2V0VXNlcklkID0gKCkgPT4ge1xuICAgIC8vIEluIGEgY2xpZW50IGNvbXBvbmVudCwgd2UnZCB1c2UgY29va2llcyBvciBsb2NhbFN0b3JhZ2VcbiAgICAvLyBGb3Igbm93LCB3ZSdsbCBhc3N1bWUgdGhlIHVzZXIgSUQgaXMgc3RvcmVkIGluIGxvY2FsU3RvcmFnZVxuICAgIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlcklkXCIpXG4gICAgICA6IG51bGw7XG4gIH07XG5cbiAgLy8gRmV0Y2ggY2FydCBpdGVtcyB3aGVuIGNvbXBvbmVudCBtb3VudHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsb2FkQ2FydEl0ZW1zKCk7XG5cbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXIgZm9yIHN0b3JhZ2UgY2hhbmdlcyAobG9naW4vbG9nb3V0KVxuICAgIGNvbnN0IGhhbmRsZVN0b3JhZ2VDaGFuZ2UgPSAoZTogU3RvcmFnZUV2ZW50IHwgRXZlbnQpID0+IHtcbiAgICAgIC8vIElmIGxvY2FsU3RvcmFnZSBjaGFuZ2VkIChsb2dpbi9sb2dvdXQpIG9yIG1hbnVhbGx5IHRyaWdnZXJlZFxuICAgICAgaWYgKGUgaW5zdGFuY2VvZiBTdG9yYWdlRXZlbnQpIHtcbiAgICAgICAgaWYgKGUua2V5ID09PSBcInVzZXJJZFwiIHx8IGUua2V5ID09PSBcInVzZXJGaXJzdE5hbWVcIiB8fCBlLmtleSA9PT0gbnVsbCkge1xuICAgICAgICAgIGxvYWRDYXJ0SXRlbXMoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIG1hbnVhbGx5IGRpc3BhdGNoZWQgZXZlbnRzXG4gICAgICAgIGxvYWRDYXJ0SXRlbXMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gTGlzdGVuIGZvciBzdG9yYWdlIGNoYW5nZXNcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInN0b3JhZ2VcIiwgaGFuZGxlU3RvcmFnZUNoYW5nZSk7XG5cbiAgICAvLyBDbGVhbiB1cCBldmVudCBsaXN0ZW5lclxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN0b3JhZ2VcIiwgaGFuZGxlU3RvcmFnZUNoYW5nZSk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIEZldGNoIGNhcnQgaXRlbXMgZnJvbSBBUElcbiAgY29uc3QgbG9hZENhcnRJdGVtcyA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VySWQgPSBnZXRVc2VySWQoKTtcbiAgICBpZiAoIXVzZXJJZCkgcmV0dXJuO1xuXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2NhcnQ/dXNlcklkPSR7dXNlcklkfWApO1xuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNldEl0ZW1zKGRhdGEpO1xuICAgICAgICB1cGRhdGVJdGVtQ291bnQoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgY2FydCBpdGVtczpcIiwgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBVcGRhdGUgaXRlbSBjb3VudCBmcm9tIEFQSVxuICBjb25zdCB1cGRhdGVJdGVtQ291bnQgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlcklkID0gZ2V0VXNlcklkKCk7XG4gICAgaWYgKCF1c2VySWQpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2NhcnQvY291bnQ/dXNlcklkPSR7dXNlcklkfWApO1xuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNldEl0ZW1Db3VudChkYXRhLmNvdW50KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGNhcnQgY291bnQ6XCIsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQWRkIGl0ZW0gdG8gY2FydFxuICBjb25zdCBhZGRUb0NhcnQgPSBhc3luYyAoXG4gICAgcHJvZHVjdElkOiBzdHJpbmcsXG4gICAgcXVhbnRpdHk6IG51bWJlcixcbiAgICBuYW1lOiBzdHJpbmdcbiAgKSA9PiB7XG4gICAgY29uc3QgdXNlcklkID0gZ2V0VXNlcklkKCk7XG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgIHNob3dUb2FzdChcIkVycm9yXCIsIFwiUGxlYXNlIGxvZyBpbiB0byBhZGQgaXRlbXMgdG8geW91ciBjYXJ0XCIsIFwiZXJyb3JcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2FwaS9jYXJ0XCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgdXNlcklkLFxuICAgICAgICAgIHByb2R1Y3RJZCxcbiAgICAgICAgICBxdWFudGl0eSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGF3YWl0IGxvYWRDYXJ0SXRlbXMoKTtcbiAgICAgICAgc2hvd1RvYXN0KFxuICAgICAgICAgIFwiQWRkZWQgdG8gY2FydFwiLFxuICAgICAgICAgIGAke25hbWV9IGhhcyBiZWVuIGFkZGVkIHRvIHlvdXIgY2FydGAsXG4gICAgICAgICAgXCJzdWNjZXNzXCJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzaG93VG9hc3QoXG4gICAgICAgICAgXCJFcnJvclwiLFxuICAgICAgICAgIGVycm9yLmVycm9yIHx8IFwiRmFpbGVkIHRvIGFkZCBpdGVtIHRvIGNhcnRcIixcbiAgICAgICAgICBcImVycm9yXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFkZGluZyB0byBjYXJ0OlwiLCBlcnJvcik7XG4gICAgICBzaG93VG9hc3QoXCJFcnJvclwiLCBcIkZhaWxlZCB0byBhZGQgaXRlbSB0byBjYXJ0XCIsIFwiZXJyb3JcIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFVwZGF0ZSBpdGVtIHF1YW50aXR5XG4gIGNvbnN0IHVwZGF0ZVF1YW50aXR5ID0gYXN5bmMgKGl0ZW1JZDogc3RyaW5nLCBxdWFudGl0eTogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgdXNlcklkID0gZ2V0VXNlcklkKCk7XG4gICAgaWYgKCF1c2VySWQgfHwgcXVhbnRpdHkgPCAxKSByZXR1cm47XG5cbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEZpbmQgdGhlIGNhcnQgaXRlbSBhbmQgaXRzIHByb2R1Y3QgSURcbiAgICAgIGNvbnN0IGNhcnRJdGVtID0gaXRlbXMuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaXRlbUlkKTtcbiAgICAgIGlmICghY2FydEl0ZW0pIHJldHVybjtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvY2FydFwiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICBwcm9kdWN0SWQ6IGNhcnRJdGVtLnByb2R1Y3QuaWQsXG4gICAgICAgICAgcXVhbnRpdHksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBhd2FpdCBsb2FkQ2FydEl0ZW1zKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgc2hvd1RvYXN0KFwiRXJyb3JcIiwgZXJyb3IuZXJyb3IgfHwgXCJGYWlsZWQgdG8gdXBkYXRlIHF1YW50aXR5XCIsIFwiZXJyb3JcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBxdWFudGl0eTpcIiwgZXJyb3IpO1xuICAgICAgc2hvd1RvYXN0KFwiRXJyb3JcIiwgXCJGYWlsZWQgdG8gdXBkYXRlIHF1YW50aXR5XCIsIFwiZXJyb3JcIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlbW92ZSBpdGVtIGZyb20gY2FydFxuICBjb25zdCByZW1vdmVJdGVtID0gYXN5bmMgKGl0ZW1JZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgdXNlcklkID0gZ2V0VXNlcklkKCk7XG4gICAgaWYgKCF1c2VySWQpIHJldHVybjtcblxuICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9jYXJ0P2lkPSR7aXRlbUlkfSZ1c2VySWQ9JHt1c2VySWR9YCwge1xuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGF3YWl0IGxvYWRDYXJ0SXRlbXMoKTtcbiAgICAgICAgc2hvd1RvYXN0KFxuICAgICAgICAgIFwiSXRlbSByZW1vdmVkXCIsXG4gICAgICAgICAgXCJJdGVtIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB5b3VyIGNhcnRcIixcbiAgICAgICAgICBcInN1Y2Nlc3NcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNob3dUb2FzdChcIkVycm9yXCIsIGVycm9yLmVycm9yIHx8IFwiRmFpbGVkIHRvIHJlbW92ZSBpdGVtXCIsIFwiZXJyb3JcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZW1vdmluZyBpdGVtOlwiLCBlcnJvcik7XG4gICAgICBzaG93VG9hc3QoXCJFcnJvclwiLCBcIkZhaWxlZCB0byByZW1vdmUgaXRlbVwiLCBcImVycm9yXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBTaG93IHRvYXN0IG5vdGlmaWNhdGlvblxuICBjb25zdCBzaG93VG9hc3QgPSAoXG4gICAgdGl0bGU6IHN0cmluZyxcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nLFxuICAgIHZhcmlhbnQ6IFwic3VjY2Vzc1wiIHwgXCJlcnJvclwiXG4gICkgPT4ge1xuICAgIHNldFRvYXN0KHtcbiAgICAgIG9wZW46IHRydWUsXG4gICAgICB0aXRsZSxcbiAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgdmFyaWFudCxcbiAgICB9KTtcblxuICAgIC8vIEF1dG8taGlkZSB0b2FzdCBhZnRlciAzIHNlY29uZHNcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldFRvYXN0KChwcmV2KSA9PiAoeyAuLi5wcmV2LCBvcGVuOiBmYWxzZSB9KSk7XG4gICAgfSwgMzAwMCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8Q2FydENvbnRleHQuUHJvdmlkZXJcbiAgICAgIHZhbHVlPXt7XG4gICAgICAgIGl0ZW1zLFxuICAgICAgICBpdGVtQ291bnQsXG4gICAgICAgIGFkZFRvQ2FydCxcbiAgICAgICAgdXBkYXRlUXVhbnRpdHksXG4gICAgICAgIHJlbW92ZUl0ZW0sXG4gICAgICAgIGlzTG9hZGluZyxcbiAgICAgIH19XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgICAge3RvYXN0Lm9wZW4gJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtgZml4ZWQgdG9wLTQgcmlnaHQtNCB6LTUwIG1heC13LW1kIHJvdW5kZWQtbGcgc2hhZG93LWxnIHAtNCBmbGV4IGl0ZW1zLXN0YXJ0IGdhcC00IHRyYW5zaXRpb24tYWxsIHRyYW5zZm9ybSB0cmFuc2xhdGUteC0wXG4gICAgICAgICAgICAke1xuICAgICAgICAgICAgICB0b2FzdC52YXJpYW50ID09PSBcInN1Y2Nlc3NcIlxuICAgICAgICAgICAgICAgID8gXCJiZy1ncmVlbi01MCBib3JkZXIgYm9yZGVyLWdyZWVuLTUwMFwiXG4gICAgICAgICAgICAgICAgOiBcImJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC01MDBcIlxuICAgICAgICAgICAgfWB9XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bmb250LW1lZGl1bSAke1xuICAgICAgICAgICAgICAgIHRvYXN0LnZhcmlhbnQgPT09IFwic3VjY2Vzc1wiID8gXCJ0ZXh0LWdyZWVuLTcwMFwiIDogXCJ0ZXh0LXJlZC03MDBcIlxuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3RvYXN0LnRpdGxlfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBtdC0xXCI+XG4gICAgICAgICAgICAgIHt0b2FzdC5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtNiB3LTYgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LWdyYXktNjAwIHJvdW5kZWQtZnVsbFwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRUb2FzdCgocHJldikgPT4gKHsgLi4ucHJldiwgb3BlbjogZmFsc2UgfSkpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtNCB3LTRcIlxuICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezJ9XG4gICAgICAgICAgICAgICAgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPkNsb3NlPC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9DYXJ0Q29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJDYXJ0Q29udGV4dCIsInVzZUNhcnQiLCJjb250ZXh0IiwiRXJyb3IiLCJDYXJ0UHJvdmlkZXIiLCJjaGlsZHJlbiIsIml0ZW1zIiwic2V0SXRlbXMiLCJpdGVtQ291bnQiLCJzZXRJdGVtQ291bnQiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJ0b2FzdCIsInNldFRvYXN0Iiwib3BlbiIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ2YXJpYW50IiwiZ2V0VXNlcklkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImxvYWRDYXJ0SXRlbXMiLCJoYW5kbGVTdG9yYWdlQ2hhbmdlIiwiZSIsIlN0b3JhZ2VFdmVudCIsImtleSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidXNlcklkIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiZGF0YSIsImpzb24iLCJ1cGRhdGVJdGVtQ291bnQiLCJlcnJvciIsImNvbnNvbGUiLCJjb3VudCIsImFkZFRvQ2FydCIsInByb2R1Y3RJZCIsInF1YW50aXR5IiwibmFtZSIsInNob3dUb2FzdCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInVwZGF0ZVF1YW50aXR5IiwiaXRlbUlkIiwiY2FydEl0ZW0iLCJmaW5kIiwiaXRlbSIsImlkIiwicHJvZHVjdCIsInJlbW92ZUl0ZW0iLCJzZXRUaW1lb3V0IiwicHJldiIsIlByb3ZpZGVyIiwidmFsdWUiLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwic3ZnIiwieG1sbnMiLCJmaWxsIiwidmlld0JveCIsInN0cm9rZSIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiLCJzcGFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/context/cart-context.tsx\n"));

/***/ })

});