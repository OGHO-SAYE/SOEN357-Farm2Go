"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/checkout/route";
exports.ids = ["app/api/checkout/route"];
exports.modules = {

/***/ "better-sqlite3":
/*!*********************************!*\
  !*** external "better-sqlite3" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("better-sqlite3");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcheckout%2Froute&page=%2Fapi%2Fcheckout%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcheckout%2Froute.ts&appDir=%2FUsers%2Fuoron%2FDesktop%2FWINTER_2025%2FSOEN357%2FSOEN357-Farm2Go%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fuoron%2FDesktop%2FWINTER_2025%2FSOEN357%2FSOEN357-Farm2Go&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcheckout%2Froute&page=%2Fapi%2Fcheckout%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcheckout%2Froute.ts&appDir=%2FUsers%2Fuoron%2FDesktop%2FWINTER_2025%2FSOEN357%2FSOEN357-Farm2Go%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fuoron%2FDesktop%2FWINTER_2025%2FSOEN357%2FSOEN357-Farm2Go&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_uoron_Desktop_WINTER_2025_SOEN357_SOEN357_Farm2Go_src_app_api_checkout_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/checkout/route.ts */ \"(rsc)/./src/app/api/checkout/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/checkout/route\",\n        pathname: \"/api/checkout\",\n        filename: \"route\",\n        bundlePath: \"app/api/checkout/route\"\n    },\n    resolvedPagePath: \"/Users/uoron/Desktop/WINTER_2025/SOEN357/SOEN357-Farm2Go/src/app/api/checkout/route.ts\",\n    nextConfigOutput,\n    userland: _Users_uoron_Desktop_WINTER_2025_SOEN357_SOEN357_Farm2Go_src_app_api_checkout_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/checkout/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGVja291dCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGY2hlY2tvdXQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZjaGVja291dCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnVvcm9uJTJGRGVza3RvcCUyRldJTlRFUl8yMDI1JTJGU09FTjM1NyUyRlNPRU4zNTctRmFybTJHbyUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZ1b3JvbiUyRkRlc2t0b3AlMkZXSU5URVJfMjAyNSUyRlNPRU4zNTclMkZTT0VOMzU3LUZhcm0yR28maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDc0M7QUFDbkg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJtMmdvLz85NTgzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy91b3Jvbi9EZXNrdG9wL1dJTlRFUl8yMDI1L1NPRU4zNTcvU09FTjM1Ny1GYXJtMkdvL3NyYy9hcHAvYXBpL2NoZWNrb3V0L3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jaGVja291dC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NoZWNrb3V0XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jaGVja291dC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy91b3Jvbi9EZXNrdG9wL1dJTlRFUl8yMDI1L1NPRU4zNTcvU09FTjM1Ny1GYXJtMkdvL3NyYy9hcHAvYXBpL2NoZWNrb3V0L3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2NoZWNrb3V0L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcheckout%2Froute&page=%2Fapi%2Fcheckout%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcheckout%2Froute.ts&appDir=%2FUsers%2Fuoron%2FDesktop%2FWINTER_2025%2FSOEN357%2FSOEN357-Farm2Go%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fuoron%2FDesktop%2FWINTER_2025%2FSOEN357%2FSOEN357-Farm2Go&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/checkout/route.ts":
/*!***************************************!*\
  !*** ./src/app/api/checkout/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm/v4.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db/index.ts\");\n/* harmony import */ var _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db/schema */ \"(rsc)/./src/lib/db/schema.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"(rsc)/./node_modules/date-fns/format.js\");\n\n\n\n\n\n\n// Checkout API to process orders\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { userId, shippingAddress, shippingCity, shippingState, shippingPostalCode } = body;\n        // Validation\n        if (!userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"User ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Get all cart items for the user\n        const userCartItems = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.select({\n            id: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.cartItems.id,\n            productId: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.cartItems.productId,\n            quantity: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.cartItems.quantity\n        }).from(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.cartItems).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.cartItems.userId, userId)).all();\n        if (userCartItems.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Cart is empty\"\n            }, {\n                status: 400\n            });\n        }\n        // Get product details for all items in the cart\n        const productIds = userCartItems.map((item)=>item.productId);\n        const productsInCart = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.select({\n            id: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.products.id,\n            name: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.products.name,\n            price: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.products.price,\n            stock: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.products.stock,\n            farmerId: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.products.farmerId\n        }).from(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.products).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.inArray)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.products.id, productIds)).all();\n        // Create a map for easier access to product details\n        const productMap = productsInCart.reduce((acc, product)=>{\n            acc[product.id] = product;\n            return acc;\n        }, {});\n        // Validate stock and calculate order total\n        let orderTotal = 0;\n        const outOfStockItems = [];\n        for (const cartItem of userCartItems){\n            const product = productMap[cartItem.productId];\n            if (!product) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: `Product ${cartItem.productId} not found`\n                }, {\n                    status: 404\n                });\n            }\n            // Check if enough stock is available\n            if (product.stock < cartItem.quantity) {\n                outOfStockItems.push({\n                    productId: product.id,\n                    name: product.name,\n                    requestedQuantity: cartItem.quantity,\n                    availableStock: product.stock\n                });\n            }\n            // Add to order total\n            orderTotal += product.price * cartItem.quantity;\n        }\n        // If any items are out of stock, return error\n        if (outOfStockItems.length > 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Some items are out of stock\",\n                outOfStockItems\n            }, {\n                status: 400\n            });\n        }\n        // Begin transaction\n        return await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.transaction(async (tx)=>{\n            // Create a new order\n            const now = new Date().toISOString();\n            const orderId = (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n            await tx.insert(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orders).values({\n                id: orderId,\n                userId,\n                total: orderTotal,\n                status: \"processing\",\n                shippingAddress,\n                shippingCity,\n                shippingState,\n                shippingPostalCode,\n                createdAt: now,\n                updatedAt: now\n            });\n            // Create order items and update product stock\n            const orderItemsData = [];\n            const stockUpdates = [];\n            const revenueRecords = [];\n            const productAnalyticsUpdates = [];\n            const todayDateStr = (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_5__.format)(new Date(), \"yyyy-MM-dd\");\n            // Group cart items by farmer for revenue tracking\n            const farmerRevenues = {};\n            for (const cartItem of userCartItems){\n                const product = productMap[cartItem.productId];\n                // Create order item\n                const orderItemId = (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n                orderItemsData.push({\n                    id: orderItemId,\n                    orderId,\n                    productId: cartItem.productId,\n                    farmerId: product.farmerId,\n                    quantity: cartItem.quantity,\n                    pricePerUnit: product.price,\n                    productName: product.name,\n                    createdAt: now\n                });\n                // Update stock\n                stockUpdates.push(tx.update(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.products).set({\n                    stock: product.stock - cartItem.quantity\n                }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.products.id, cartItem.productId)));\n                // Track revenue by farmer\n                const revenue = product.price * cartItem.quantity;\n                if (farmerRevenues[product.farmerId]) {\n                    farmerRevenues[product.farmerId] += revenue;\n                } else {\n                    farmerRevenues[product.farmerId] = revenue;\n                }\n                // Prepare product analytics update\n                productAnalyticsUpdates.push({\n                    productId: cartItem.productId,\n                    quantitySold: cartItem.quantity,\n                    revenue\n                });\n            }\n            // Insert all order items\n            if (orderItemsData.length > 0) {\n                await tx.insert(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orderItems).values(orderItemsData);\n            }\n            // Execute all stock updates in parallel\n            await Promise.all(stockUpdates);\n            // Create revenue records for each farmer\n            for (const [farmerId, amount] of Object.entries(farmerRevenues)){\n                revenueRecords.push({\n                    id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                    farmerId,\n                    orderId,\n                    amount,\n                    date: todayDateStr,\n                    createdAt: now\n                });\n            }\n            // Insert all revenue records\n            if (revenueRecords.length > 0) {\n                await tx.insert(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.farmerRevenue).values(revenueRecords);\n            }\n            // Update product analytics\n            for (const update of productAnalyticsUpdates){\n                // Check if analytics record exists\n                const analyticsRecord = await tx.select().from(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.productAnalytics).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.productAnalytics.productId, update.productId)).get();\n                if (analyticsRecord) {\n                    // Update existing record\n                    await tx.update(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.productAnalytics).set({\n                        totalSold: analyticsRecord.totalSold + update.quantitySold,\n                        totalRevenue: analyticsRecord.totalRevenue + update.revenue,\n                        lastSoldDate: todayDateStr,\n                        updatedAt: now\n                    }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.productAnalytics.id, analyticsRecord.id));\n                } else {\n                    // Create new record\n                    await tx.insert(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.productAnalytics).values({\n                        id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                        productId: update.productId,\n                        totalSold: update.quantitySold,\n                        totalRevenue: update.revenue,\n                        lastSoldDate: todayDateStr,\n                        updatedAt: now\n                    });\n                }\n            }\n            // Update customer analytics\n            const customerRecord = await tx.select().from(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.customerAnalytics).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.customerAnalytics.userId, userId)).get();\n            // Get a list of unique categories and farmers from this order\n            const uniqueFarmerIds = Array.from(new Set(orderItemsData.map((item)=>item.farmerId)));\n            if (customerRecord) {\n                // Update existing customer record\n                let preferredFarmers = customerRecord.preferredFarmers ? JSON.parse(customerRecord.preferredFarmers) : [];\n                // Add new unique farmer IDs\n                for (const farmerId of uniqueFarmerIds){\n                    if (!preferredFarmers.includes(farmerId)) {\n                        preferredFarmers.push(farmerId);\n                    }\n                }\n                await tx.update(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.customerAnalytics).set({\n                    totalOrders: customerRecord.totalOrders + 1,\n                    totalSpent: customerRecord.totalSpent + orderTotal,\n                    lastOrderDate: todayDateStr,\n                    preferredFarmers: JSON.stringify(preferredFarmers),\n                    updatedAt: now\n                }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.customerAnalytics.id, customerRecord.id));\n            } else {\n                // Create new customer record\n                await tx.insert(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.customerAnalytics).values({\n                    id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                    userId,\n                    totalOrders: 1,\n                    totalSpent: orderTotal,\n                    firstOrderDate: todayDateStr,\n                    lastOrderDate: todayDateStr,\n                    preferredFarmers: JSON.stringify(uniqueFarmerIds),\n                    updatedAt: now\n                });\n            }\n            // Clear the user's cart after successful order\n            await tx.delete(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.cartItems).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.cartItems.userId, userId));\n            // Return the order details\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                orderId,\n                total: orderTotal,\n                status: \"processing\",\n                message: \"Order placed successfully\"\n            }, {\n                status: 201\n            });\n        });\n    } catch (error) {\n        console.error(\"Error processing checkout:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to process checkout\"\n        }, {\n            status: 500\n        });\n    }\n}\n// GET endpoint to retrieve order history\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const userId = searchParams.get(\"userId\");\n        const farmerId = searchParams.get(\"farmerId\");\n        if (!userId && !farmerId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Either user ID or farmer ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // For consumers: Get their order history\n        if (userId) {\n            const userOrders = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.select({\n                id: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orders.id,\n                total: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orders.total,\n                status: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orders.status,\n                createdAt: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orders.createdAt\n            }).from(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orders).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orders.userId, userId)).orderBy(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orders.createdAt).all();\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(userOrders);\n        }\n        // For farmers: Get orders containing their products\n        if (farmerId) {\n            const farmerOrders = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.select({\n                orderId: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orderItems.orderId,\n                productName: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orderItems.productName,\n                quantity: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orderItems.quantity,\n                pricePerUnit: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orderItems.pricePerUnit,\n                total: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orders.total,\n                status: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orders.status,\n                createdAt: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orders.createdAt,\n                customerName: _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.users.firstName\n            }).from(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orderItems).innerJoin(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orders, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orderItems.orderId, _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orders.id)).innerJoin(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.users, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orders.userId, _lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.users.id)).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orderItems.farmerId, farmerId)).orderBy(_lib_db_schema__WEBPACK_IMPORTED_MODULE_2__.orders.createdAt).all();\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(farmerOrders);\n        }\n    } catch (error) {\n        console.error(\"Error fetching orders:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch orders\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVMsRUFDeEI3QixHQUFHO1lBRU4sT0FBT2pDLHFEQUFZQSxDQUFDa0IsSUFBSSxDQUFDMkY7UUFDM0I7SUFDRixFQUFFLE9BQU9yRixPQUFPO1FBQ2Q4RSxRQUFROUUsS0FBSyxDQUFDLDBCQUEwQkE7UUFDeEMsT0FBT3hCLHFEQUFZQSxDQUFDa0IsSUFBSSxDQUN0QjtZQUFFTSxPQUFPO1FBQXlCLEdBQ2xDO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFybTJnby8uL3NyYy9hcHAvYXBpL2NoZWNrb3V0L3JvdXRlLnRzP2I2NzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IGRiIH0gZnJvbSBcIkAvbGliL2RiXCI7XG5pbXBvcnQge1xuICBjYXJ0SXRlbXMsXG4gIHByb2R1Y3RzLFxuICBvcmRlcnMsXG4gIG9yZGVySXRlbXMsXG4gIGZhcm1lclJldmVudWUsXG4gIGN1c3RvbWVyQW5hbHl0aWNzLFxuICBwcm9kdWN0QW5hbHl0aWNzLFxuICBmYXJtZXJzLFxuICB1c2Vycyxcbn0gZnJvbSBcIkAvbGliL2RiL3NjaGVtYVwiO1xuaW1wb3J0IHsgZXEsIGFuZCwgaW5BcnJheSB9IGZyb20gXCJkcml6emxlLW9ybVwiO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSBcImRhdGUtZm5zXCI7XG5cbi8vIENoZWNrb3V0IEFQSSB0byBwcm9jZXNzIG9yZGVyc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgY29uc3Qge1xuICAgICAgdXNlcklkLFxuICAgICAgc2hpcHBpbmdBZGRyZXNzLFxuICAgICAgc2hpcHBpbmdDaXR5LFxuICAgICAgc2hpcHBpbmdTdGF0ZSxcbiAgICAgIHNoaXBwaW5nUG9zdGFsQ29kZSxcbiAgICB9ID0gYm9keTtcblxuICAgIC8vIFZhbGlkYXRpb25cbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiBcIlVzZXIgSUQgaXMgcmVxdWlyZWRcIiB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gR2V0IGFsbCBjYXJ0IGl0ZW1zIGZvciB0aGUgdXNlclxuICAgIGNvbnN0IHVzZXJDYXJ0SXRlbXMgPSBhd2FpdCBkYlxuICAgICAgLnNlbGVjdCh7XG4gICAgICAgIGlkOiBjYXJ0SXRlbXMuaWQsXG4gICAgICAgIHByb2R1Y3RJZDogY2FydEl0ZW1zLnByb2R1Y3RJZCxcbiAgICAgICAgcXVhbnRpdHk6IGNhcnRJdGVtcy5xdWFudGl0eSxcbiAgICAgIH0pXG4gICAgICAuZnJvbShjYXJ0SXRlbXMpXG4gICAgICAud2hlcmUoZXEoY2FydEl0ZW1zLnVzZXJJZCwgdXNlcklkKSlcbiAgICAgIC5hbGwoKTtcblxuICAgIGlmICh1c2VyQ2FydEl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiQ2FydCBpcyBlbXB0eVwiIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgLy8gR2V0IHByb2R1Y3QgZGV0YWlscyBmb3IgYWxsIGl0ZW1zIGluIHRoZSBjYXJ0XG4gICAgY29uc3QgcHJvZHVjdElkcyA9IHVzZXJDYXJ0SXRlbXMubWFwKChpdGVtKSA9PiBpdGVtLnByb2R1Y3RJZCk7XG4gICAgY29uc3QgcHJvZHVjdHNJbkNhcnQgPSBhd2FpdCBkYlxuICAgICAgLnNlbGVjdCh7XG4gICAgICAgIGlkOiBwcm9kdWN0cy5pZCxcbiAgICAgICAgbmFtZTogcHJvZHVjdHMubmFtZSxcbiAgICAgICAgcHJpY2U6IHByb2R1Y3RzLnByaWNlLFxuICAgICAgICBzdG9jazogcHJvZHVjdHMuc3RvY2ssXG4gICAgICAgIGZhcm1lcklkOiBwcm9kdWN0cy5mYXJtZXJJZCxcbiAgICAgIH0pXG4gICAgICAuZnJvbShwcm9kdWN0cylcbiAgICAgIC53aGVyZShpbkFycmF5KHByb2R1Y3RzLmlkLCBwcm9kdWN0SWRzKSlcbiAgICAgIC5hbGwoKTtcblxuICAgIC8vIENyZWF0ZSBhIG1hcCBmb3IgZWFzaWVyIGFjY2VzcyB0byBwcm9kdWN0IGRldGFpbHNcbiAgICBjb25zdCBwcm9kdWN0TWFwID0gcHJvZHVjdHNJbkNhcnQucmVkdWNlKChhY2MsIHByb2R1Y3QpID0+IHtcbiAgICAgIGFjY1twcm9kdWN0LmlkXSA9IHByb2R1Y3Q7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsICh0eXBlb2YgcHJvZHVjdHNJbkNhcnQpWzBdPik7XG5cbiAgICAvLyBWYWxpZGF0ZSBzdG9jayBhbmQgY2FsY3VsYXRlIG9yZGVyIHRvdGFsXG4gICAgbGV0IG9yZGVyVG90YWwgPSAwO1xuICAgIGNvbnN0IG91dE9mU3RvY2tJdGVtcyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBjYXJ0SXRlbSBvZiB1c2VyQ2FydEl0ZW1zKSB7XG4gICAgICBjb25zdCBwcm9kdWN0ID0gcHJvZHVjdE1hcFtjYXJ0SXRlbS5wcm9kdWN0SWRdO1xuICAgICAgaWYgKCFwcm9kdWN0KSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IGVycm9yOiBgUHJvZHVjdCAke2NhcnRJdGVtLnByb2R1Y3RJZH0gbm90IGZvdW5kYCB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDQgfVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBpZiBlbm91Z2ggc3RvY2sgaXMgYXZhaWxhYmxlXG4gICAgICBpZiAocHJvZHVjdC5zdG9jayA8IGNhcnRJdGVtLnF1YW50aXR5KSB7XG4gICAgICAgIG91dE9mU3RvY2tJdGVtcy5wdXNoKHtcbiAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3QuaWQsXG4gICAgICAgICAgbmFtZTogcHJvZHVjdC5uYW1lLFxuICAgICAgICAgIHJlcXVlc3RlZFF1YW50aXR5OiBjYXJ0SXRlbS5xdWFudGl0eSxcbiAgICAgICAgICBhdmFpbGFibGVTdG9jazogcHJvZHVjdC5zdG9jayxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCB0byBvcmRlciB0b3RhbFxuICAgICAgb3JkZXJUb3RhbCArPSBwcm9kdWN0LnByaWNlICogY2FydEl0ZW0ucXVhbnRpdHk7XG4gICAgfVxuXG4gICAgLy8gSWYgYW55IGl0ZW1zIGFyZSBvdXQgb2Ygc3RvY2ssIHJldHVybiBlcnJvclxuICAgIGlmIChvdXRPZlN0b2NrSXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgZXJyb3I6IFwiU29tZSBpdGVtcyBhcmUgb3V0IG9mIHN0b2NrXCIsXG4gICAgICAgICAgb3V0T2ZTdG9ja0l0ZW1zLFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQmVnaW4gdHJhbnNhY3Rpb25cbiAgICByZXR1cm4gYXdhaXQgZGIudHJhbnNhY3Rpb24oYXN5bmMgKHR4KSA9PiB7XG4gICAgICAvLyBDcmVhdGUgYSBuZXcgb3JkZXJcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgIGNvbnN0IG9yZGVySWQgPSB1dWlkdjQoKTtcblxuICAgICAgYXdhaXQgdHguaW5zZXJ0KG9yZGVycykudmFsdWVzKHtcbiAgICAgICAgaWQ6IG9yZGVySWQsXG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgdG90YWw6IG9yZGVyVG90YWwsXG4gICAgICAgIHN0YXR1czogXCJwcm9jZXNzaW5nXCIsXG4gICAgICAgIHNoaXBwaW5nQWRkcmVzcyxcbiAgICAgICAgc2hpcHBpbmdDaXR5LFxuICAgICAgICBzaGlwcGluZ1N0YXRlLFxuICAgICAgICBzaGlwcGluZ1Bvc3RhbENvZGUsXG4gICAgICAgIGNyZWF0ZWRBdDogbm93LFxuICAgICAgICB1cGRhdGVkQXQ6IG5vdyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDcmVhdGUgb3JkZXIgaXRlbXMgYW5kIHVwZGF0ZSBwcm9kdWN0IHN0b2NrXG4gICAgICBjb25zdCBvcmRlckl0ZW1zRGF0YSA9IFtdO1xuICAgICAgY29uc3Qgc3RvY2tVcGRhdGVzID0gW107XG4gICAgICBjb25zdCByZXZlbnVlUmVjb3JkcyA9IFtdO1xuICAgICAgY29uc3QgcHJvZHVjdEFuYWx5dGljc1VwZGF0ZXMgPSBbXTtcbiAgICAgIGNvbnN0IHRvZGF5RGF0ZVN0ciA9IGZvcm1hdChuZXcgRGF0ZSgpLCBcInl5eXktTU0tZGRcIik7XG5cbiAgICAgIC8vIEdyb3VwIGNhcnQgaXRlbXMgYnkgZmFybWVyIGZvciByZXZlbnVlIHRyYWNraW5nXG4gICAgICBjb25zdCBmYXJtZXJSZXZlbnVlczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuXG4gICAgICBmb3IgKGNvbnN0IGNhcnRJdGVtIG9mIHVzZXJDYXJ0SXRlbXMpIHtcbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IHByb2R1Y3RNYXBbY2FydEl0ZW0ucHJvZHVjdElkXTtcblxuICAgICAgICAvLyBDcmVhdGUgb3JkZXIgaXRlbVxuICAgICAgICBjb25zdCBvcmRlckl0ZW1JZCA9IHV1aWR2NCgpO1xuICAgICAgICBvcmRlckl0ZW1zRGF0YS5wdXNoKHtcbiAgICAgICAgICBpZDogb3JkZXJJdGVtSWQsXG4gICAgICAgICAgb3JkZXJJZCxcbiAgICAgICAgICBwcm9kdWN0SWQ6IGNhcnRJdGVtLnByb2R1Y3RJZCxcbiAgICAgICAgICBmYXJtZXJJZDogcHJvZHVjdC5mYXJtZXJJZCxcbiAgICAgICAgICBxdWFudGl0eTogY2FydEl0ZW0ucXVhbnRpdHksXG4gICAgICAgICAgcHJpY2VQZXJVbml0OiBwcm9kdWN0LnByaWNlLFxuICAgICAgICAgIHByb2R1Y3ROYW1lOiBwcm9kdWN0Lm5hbWUsXG4gICAgICAgICAgY3JlYXRlZEF0OiBub3csXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBzdG9ja1xuICAgICAgICBzdG9ja1VwZGF0ZXMucHVzaChcbiAgICAgICAgICB0eFxuICAgICAgICAgICAgLnVwZGF0ZShwcm9kdWN0cylcbiAgICAgICAgICAgIC5zZXQoe1xuICAgICAgICAgICAgICBzdG9jazogcHJvZHVjdC5zdG9jayAtIGNhcnRJdGVtLnF1YW50aXR5LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVyZShlcShwcm9kdWN0cy5pZCwgY2FydEl0ZW0ucHJvZHVjdElkKSlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBUcmFjayByZXZlbnVlIGJ5IGZhcm1lclxuICAgICAgICBjb25zdCByZXZlbnVlID0gcHJvZHVjdC5wcmljZSAqIGNhcnRJdGVtLnF1YW50aXR5O1xuICAgICAgICBpZiAoZmFybWVyUmV2ZW51ZXNbcHJvZHVjdC5mYXJtZXJJZF0pIHtcbiAgICAgICAgICBmYXJtZXJSZXZlbnVlc1twcm9kdWN0LmZhcm1lcklkXSArPSByZXZlbnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZhcm1lclJldmVudWVzW3Byb2R1Y3QuZmFybWVySWRdID0gcmV2ZW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByZXBhcmUgcHJvZHVjdCBhbmFseXRpY3MgdXBkYXRlXG4gICAgICAgIHByb2R1Y3RBbmFseXRpY3NVcGRhdGVzLnB1c2goe1xuICAgICAgICAgIHByb2R1Y3RJZDogY2FydEl0ZW0ucHJvZHVjdElkLFxuICAgICAgICAgIHF1YW50aXR5U29sZDogY2FydEl0ZW0ucXVhbnRpdHksXG4gICAgICAgICAgcmV2ZW51ZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEluc2VydCBhbGwgb3JkZXIgaXRlbXNcbiAgICAgIGlmIChvcmRlckl0ZW1zRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGF3YWl0IHR4Lmluc2VydChvcmRlckl0ZW1zKS52YWx1ZXMob3JkZXJJdGVtc0RhdGEpO1xuICAgICAgfVxuXG4gICAgICAvLyBFeGVjdXRlIGFsbCBzdG9jayB1cGRhdGVzIGluIHBhcmFsbGVsXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChzdG9ja1VwZGF0ZXMpO1xuXG4gICAgICAvLyBDcmVhdGUgcmV2ZW51ZSByZWNvcmRzIGZvciBlYWNoIGZhcm1lclxuICAgICAgZm9yIChjb25zdCBbZmFybWVySWQsIGFtb3VudF0gb2YgT2JqZWN0LmVudHJpZXMoZmFybWVyUmV2ZW51ZXMpKSB7XG4gICAgICAgIHJldmVudWVSZWNvcmRzLnB1c2goe1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBmYXJtZXJJZCxcbiAgICAgICAgICBvcmRlcklkLFxuICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICBkYXRlOiB0b2RheURhdGVTdHIsXG4gICAgICAgICAgY3JlYXRlZEF0OiBub3csXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBJbnNlcnQgYWxsIHJldmVudWUgcmVjb3Jkc1xuICAgICAgaWYgKHJldmVudWVSZWNvcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYXdhaXQgdHguaW5zZXJ0KGZhcm1lclJldmVudWUpLnZhbHVlcyhyZXZlbnVlUmVjb3Jkcyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBwcm9kdWN0IGFuYWx5dGljc1xuICAgICAgZm9yIChjb25zdCB1cGRhdGUgb2YgcHJvZHVjdEFuYWx5dGljc1VwZGF0ZXMpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgYW5hbHl0aWNzIHJlY29yZCBleGlzdHNcbiAgICAgICAgY29uc3QgYW5hbHl0aWNzUmVjb3JkID0gYXdhaXQgdHhcbiAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAuZnJvbShwcm9kdWN0QW5hbHl0aWNzKVxuICAgICAgICAgIC53aGVyZShlcShwcm9kdWN0QW5hbHl0aWNzLnByb2R1Y3RJZCwgdXBkYXRlLnByb2R1Y3RJZCkpXG4gICAgICAgICAgLmdldCgpO1xuXG4gICAgICAgIGlmIChhbmFseXRpY3NSZWNvcmQpIHtcbiAgICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgcmVjb3JkXG4gICAgICAgICAgYXdhaXQgdHhcbiAgICAgICAgICAgIC51cGRhdGUocHJvZHVjdEFuYWx5dGljcylcbiAgICAgICAgICAgIC5zZXQoe1xuICAgICAgICAgICAgICB0b3RhbFNvbGQ6IGFuYWx5dGljc1JlY29yZC50b3RhbFNvbGQgKyB1cGRhdGUucXVhbnRpdHlTb2xkLFxuICAgICAgICAgICAgICB0b3RhbFJldmVudWU6IGFuYWx5dGljc1JlY29yZC50b3RhbFJldmVudWUgKyB1cGRhdGUucmV2ZW51ZSxcbiAgICAgICAgICAgICAgbGFzdFNvbGREYXRlOiB0b2RheURhdGVTdHIsXG4gICAgICAgICAgICAgIHVwZGF0ZWRBdDogbm93LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVyZShlcShwcm9kdWN0QW5hbHl0aWNzLmlkLCBhbmFseXRpY3NSZWNvcmQuaWQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBDcmVhdGUgbmV3IHJlY29yZFxuICAgICAgICAgIGF3YWl0IHR4Lmluc2VydChwcm9kdWN0QW5hbHl0aWNzKS52YWx1ZXMoe1xuICAgICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICAgICAgcHJvZHVjdElkOiB1cGRhdGUucHJvZHVjdElkLFxuICAgICAgICAgICAgdG90YWxTb2xkOiB1cGRhdGUucXVhbnRpdHlTb2xkLFxuICAgICAgICAgICAgdG90YWxSZXZlbnVlOiB1cGRhdGUucmV2ZW51ZSxcbiAgICAgICAgICAgIGxhc3RTb2xkRGF0ZTogdG9kYXlEYXRlU3RyLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiBub3csXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGN1c3RvbWVyIGFuYWx5dGljc1xuICAgICAgY29uc3QgY3VzdG9tZXJSZWNvcmQgPSBhd2FpdCB0eFxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLmZyb20oY3VzdG9tZXJBbmFseXRpY3MpXG4gICAgICAgIC53aGVyZShlcShjdXN0b21lckFuYWx5dGljcy51c2VySWQsIHVzZXJJZCkpXG4gICAgICAgIC5nZXQoKTtcblxuICAgICAgLy8gR2V0IGEgbGlzdCBvZiB1bmlxdWUgY2F0ZWdvcmllcyBhbmQgZmFybWVycyBmcm9tIHRoaXMgb3JkZXJcbiAgICAgIGNvbnN0IHVuaXF1ZUZhcm1lcklkcyA9IEFycmF5LmZyb20oXG4gICAgICAgIG5ldyBTZXQob3JkZXJJdGVtc0RhdGEubWFwKChpdGVtKSA9PiBpdGVtLmZhcm1lcklkKSlcbiAgICAgICk7XG5cbiAgICAgIGlmIChjdXN0b21lclJlY29yZCkge1xuICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgY3VzdG9tZXIgcmVjb3JkXG4gICAgICAgIGxldCBwcmVmZXJyZWRGYXJtZXJzID0gY3VzdG9tZXJSZWNvcmQucHJlZmVycmVkRmFybWVyc1xuICAgICAgICAgID8gSlNPTi5wYXJzZShjdXN0b21lclJlY29yZC5wcmVmZXJyZWRGYXJtZXJzKVxuICAgICAgICAgIDogW107XG5cbiAgICAgICAgLy8gQWRkIG5ldyB1bmlxdWUgZmFybWVyIElEc1xuICAgICAgICBmb3IgKGNvbnN0IGZhcm1lcklkIG9mIHVuaXF1ZUZhcm1lcklkcykge1xuICAgICAgICAgIGlmICghcHJlZmVycmVkRmFybWVycy5pbmNsdWRlcyhmYXJtZXJJZCkpIHtcbiAgICAgICAgICAgIHByZWZlcnJlZEZhcm1lcnMucHVzaChmYXJtZXJJZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdHhcbiAgICAgICAgICAudXBkYXRlKGN1c3RvbWVyQW5hbHl0aWNzKVxuICAgICAgICAgIC5zZXQoe1xuICAgICAgICAgICAgdG90YWxPcmRlcnM6IGN1c3RvbWVyUmVjb3JkLnRvdGFsT3JkZXJzICsgMSxcbiAgICAgICAgICAgIHRvdGFsU3BlbnQ6IGN1c3RvbWVyUmVjb3JkLnRvdGFsU3BlbnQgKyBvcmRlclRvdGFsLFxuICAgICAgICAgICAgbGFzdE9yZGVyRGF0ZTogdG9kYXlEYXRlU3RyLFxuICAgICAgICAgICAgcHJlZmVycmVkRmFybWVyczogSlNPTi5zdHJpbmdpZnkocHJlZmVycmVkRmFybWVycyksXG4gICAgICAgICAgICB1cGRhdGVkQXQ6IG5vdyxcbiAgICAgICAgICB9KVxuICAgICAgICAgIC53aGVyZShlcShjdXN0b21lckFuYWx5dGljcy5pZCwgY3VzdG9tZXJSZWNvcmQuaWQpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENyZWF0ZSBuZXcgY3VzdG9tZXIgcmVjb3JkXG4gICAgICAgIGF3YWl0IHR4Lmluc2VydChjdXN0b21lckFuYWx5dGljcykudmFsdWVzKHtcbiAgICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgICAgdXNlcklkLFxuICAgICAgICAgIHRvdGFsT3JkZXJzOiAxLFxuICAgICAgICAgIHRvdGFsU3BlbnQ6IG9yZGVyVG90YWwsXG4gICAgICAgICAgZmlyc3RPcmRlckRhdGU6IHRvZGF5RGF0ZVN0cixcbiAgICAgICAgICBsYXN0T3JkZXJEYXRlOiB0b2RheURhdGVTdHIsXG4gICAgICAgICAgcHJlZmVycmVkRmFybWVyczogSlNPTi5zdHJpbmdpZnkodW5pcXVlRmFybWVySWRzKSxcbiAgICAgICAgICB1cGRhdGVkQXQ6IG5vdyxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIHRoZSB1c2VyJ3MgY2FydCBhZnRlciBzdWNjZXNzZnVsIG9yZGVyXG4gICAgICBhd2FpdCB0eC5kZWxldGUoY2FydEl0ZW1zKS53aGVyZShlcShjYXJ0SXRlbXMudXNlcklkLCB1c2VySWQpKTtcblxuICAgICAgLy8gUmV0dXJuIHRoZSBvcmRlciBkZXRhaWxzXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHtcbiAgICAgICAgICBvcmRlcklkLFxuICAgICAgICAgIHRvdGFsOiBvcmRlclRvdGFsLFxuICAgICAgICAgIHN0YXR1czogXCJwcm9jZXNzaW5nXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJPcmRlciBwbGFjZWQgc3VjY2Vzc2Z1bGx5XCIsXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiAyMDEgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcHJvY2Vzc2luZyBjaGVja291dDpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IFwiRmFpbGVkIHRvIHByb2Nlc3MgY2hlY2tvdXRcIiB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG4vLyBHRVQgZW5kcG9pbnQgdG8gcmV0cmlldmUgb3JkZXIgaGlzdG9yeVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBjb25zdCB1c2VySWQgPSBzZWFyY2hQYXJhbXMuZ2V0KFwidXNlcklkXCIpO1xuICAgIGNvbnN0IGZhcm1lcklkID0gc2VhcmNoUGFyYW1zLmdldChcImZhcm1lcklkXCIpO1xuXG4gICAgaWYgKCF1c2VySWQgJiYgIWZhcm1lcklkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6IFwiRWl0aGVyIHVzZXIgSUQgb3IgZmFybWVyIElEIGlzIHJlcXVpcmVkXCIgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEZvciBjb25zdW1lcnM6IEdldCB0aGVpciBvcmRlciBoaXN0b3J5XG4gICAgaWYgKHVzZXJJZCkge1xuICAgICAgY29uc3QgdXNlck9yZGVycyA9IGF3YWl0IGRiXG4gICAgICAgIC5zZWxlY3Qoe1xuICAgICAgICAgIGlkOiBvcmRlcnMuaWQsXG4gICAgICAgICAgdG90YWw6IG9yZGVycy50b3RhbCxcbiAgICAgICAgICBzdGF0dXM6IG9yZGVycy5zdGF0dXMsXG4gICAgICAgICAgY3JlYXRlZEF0OiBvcmRlcnMuY3JlYXRlZEF0LFxuICAgICAgICB9KVxuICAgICAgICAuZnJvbShvcmRlcnMpXG4gICAgICAgIC53aGVyZShlcShvcmRlcnMudXNlcklkLCB1c2VySWQpKVxuICAgICAgICAub3JkZXJCeShvcmRlcnMuY3JlYXRlZEF0KVxuICAgICAgICAuYWxsKCk7XG5cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih1c2VyT3JkZXJzKTtcbiAgICB9XG5cbiAgICAvLyBGb3IgZmFybWVyczogR2V0IG9yZGVycyBjb250YWluaW5nIHRoZWlyIHByb2R1Y3RzXG4gICAgaWYgKGZhcm1lcklkKSB7XG4gICAgICBjb25zdCBmYXJtZXJPcmRlcnMgPSBhd2FpdCBkYlxuICAgICAgICAuc2VsZWN0KHtcbiAgICAgICAgICBvcmRlcklkOiBvcmRlckl0ZW1zLm9yZGVySWQsXG4gICAgICAgICAgcHJvZHVjdE5hbWU6IG9yZGVySXRlbXMucHJvZHVjdE5hbWUsXG4gICAgICAgICAgcXVhbnRpdHk6IG9yZGVySXRlbXMucXVhbnRpdHksXG4gICAgICAgICAgcHJpY2VQZXJVbml0OiBvcmRlckl0ZW1zLnByaWNlUGVyVW5pdCxcbiAgICAgICAgICB0b3RhbDogb3JkZXJzLnRvdGFsLFxuICAgICAgICAgIHN0YXR1czogb3JkZXJzLnN0YXR1cyxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG9yZGVycy5jcmVhdGVkQXQsXG4gICAgICAgICAgY3VzdG9tZXJOYW1lOiB1c2Vycy5maXJzdE5hbWUsXG4gICAgICAgIH0pXG4gICAgICAgIC5mcm9tKG9yZGVySXRlbXMpXG4gICAgICAgIC5pbm5lckpvaW4ob3JkZXJzLCBlcShvcmRlckl0ZW1zLm9yZGVySWQsIG9yZGVycy5pZCkpXG4gICAgICAgIC5pbm5lckpvaW4odXNlcnMsIGVxKG9yZGVycy51c2VySWQsIHVzZXJzLmlkKSlcbiAgICAgICAgLndoZXJlKGVxKG9yZGVySXRlbXMuZmFybWVySWQsIGZhcm1lcklkKSlcbiAgICAgICAgLm9yZGVyQnkob3JkZXJzLmNyZWF0ZWRBdClcbiAgICAgICAgLmFsbCgpO1xuXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZmFybWVyT3JkZXJzKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIG9yZGVyczpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IFwiRmFpbGVkIHRvIGZldGNoIG9yZGVyc1wiIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwidjQiLCJ1dWlkdjQiLCJkYiIsImNhcnRJdGVtcyIsInByb2R1Y3RzIiwib3JkZXJzIiwib3JkZXJJdGVtcyIsImZhcm1lclJldmVudWUiLCJjdXN0b21lckFuYWx5dGljcyIsInByb2R1Y3RBbmFseXRpY3MiLCJ1c2VycyIsImVxIiwiaW5BcnJheSIsImZvcm1hdCIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsImpzb24iLCJ1c2VySWQiLCJzaGlwcGluZ0FkZHJlc3MiLCJzaGlwcGluZ0NpdHkiLCJzaGlwcGluZ1N0YXRlIiwic2hpcHBpbmdQb3N0YWxDb2RlIiwiZXJyb3IiLCJzdGF0dXMiLCJ1c2VyQ2FydEl0ZW1zIiwic2VsZWN0IiwiaWQiLCJwcm9kdWN0SWQiLCJxdWFudGl0eSIsImZyb20iLCJ3aGVyZSIsImFsbCIsImxlbmd0aCIsInByb2R1Y3RJZHMiLCJtYXAiLCJpdGVtIiwicHJvZHVjdHNJbkNhcnQiLCJuYW1lIiwicHJpY2UiLCJzdG9jayIsImZhcm1lcklkIiwicHJvZHVjdE1hcCIsInJlZHVjZSIsImFjYyIsInByb2R1Y3QiLCJvcmRlclRvdGFsIiwib3V0T2ZTdG9ja0l0ZW1zIiwiY2FydEl0ZW0iLCJwdXNoIiwicmVxdWVzdGVkUXVhbnRpdHkiLCJhdmFpbGFibGVTdG9jayIsInRyYW5zYWN0aW9uIiwidHgiLCJub3ciLCJEYXRlIiwidG9JU09TdHJpbmciLCJvcmRlcklkIiwiaW5zZXJ0IiwidmFsdWVzIiwidG90YWwiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJvcmRlckl0ZW1zRGF0YSIsInN0b2NrVXBkYXRlcyIsInJldmVudWVSZWNvcmRzIiwicHJvZHVjdEFuYWx5dGljc1VwZGF0ZXMiLCJ0b2RheURhdGVTdHIiLCJmYXJtZXJSZXZlbnVlcyIsIm9yZGVySXRlbUlkIiwicHJpY2VQZXJVbml0IiwicHJvZHVjdE5hbWUiLCJ1cGRhdGUiLCJzZXQiLCJyZXZlbnVlIiwicXVhbnRpdHlTb2xkIiwiUHJvbWlzZSIsImFtb3VudCIsIk9iamVjdCIsImVudHJpZXMiLCJkYXRlIiwiYW5hbHl0aWNzUmVjb3JkIiwiZ2V0IiwidG90YWxTb2xkIiwidG90YWxSZXZlbnVlIiwibGFzdFNvbGREYXRlIiwiY3VzdG9tZXJSZWNvcmQiLCJ1bmlxdWVGYXJtZXJJZHMiLCJBcnJheSIsIlNldCIsInByZWZlcnJlZEZhcm1lcnMiLCJKU09OIiwicGFyc2UiLCJpbmNsdWRlcyIsInRvdGFsT3JkZXJzIiwidG90YWxTcGVudCIsImxhc3RPcmRlckRhdGUiLCJzdHJpbmdpZnkiLCJmaXJzdE9yZGVyRGF0ZSIsImRlbGV0ZSIsIm1lc3NhZ2UiLCJjb25zb2xlIiwiR0VUIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwidXNlck9yZGVycyIsIm9yZGVyQnkiLCJmYXJtZXJPcmRlcnMiLCJjdXN0b21lck5hbWUiLCJmaXJzdE5hbWUiLCJpbm5lckpvaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/checkout/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/index.ts":
/*!*****************************!*\
  !*** ./src/lib/db/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_better_sqlite3__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/better-sqlite3 */ \"(rsc)/./node_modules/drizzle-orm/better-sqlite3/driver.js\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(better_sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schema */ \"(rsc)/./src/lib/db/schema.ts\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./init */ \"(rsc)/./src/lib/db/init.ts\");\n/* harmony import */ var _seed__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./seed */ \"(rsc)/./src/lib/db/seed.ts\");\n\n\n\n\n\n\n// Initialize SQLite database\nconst sqlite = new (better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default())((0,path__WEBPACK_IMPORTED_MODULE_2__.join)(process.cwd(), \"farm2go.db\"));\nconst db = (0,drizzle_orm_better_sqlite3__WEBPACK_IMPORTED_MODULE_5__.drizzle)(sqlite, {\n    schema: _schema__WEBPACK_IMPORTED_MODULE_1__\n});\n// Initialize database tables and seed data\nconst setupDatabase = async ()=>{\n    try {\n        // Create database tables\n        await (0,_init__WEBPACK_IMPORTED_MODULE_3__.initDatabase)();\n        // Seed product data\n        await (0,_seed__WEBPACK_IMPORTED_MODULE_4__.seedProductData)();\n    } catch (error) {\n        console.error(\"Database setup error:\", error);\n    }\n};\nsetupDatabase().catch(console.error);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFxRDtBQUNmO0FBQ0g7QUFDUDtBQUNVO0FBQ0c7QUFFekMsNkJBQTZCO0FBQzdCLE1BQU1NLFNBQVMsSUFBSUwsdURBQVFBLENBQUNFLDBDQUFJQSxDQUFDSSxRQUFRQyxHQUFHLElBQUk7QUFDekMsTUFBTUMsS0FBS1QsbUVBQU9BLENBQUNNLFFBQVE7SUFBRUosTUFBTUEsc0NBQUFBO0FBQUMsR0FBRztBQUU5QywyQ0FBMkM7QUFDM0MsTUFBTVEsZ0JBQWdCO0lBQ3BCLElBQUk7UUFDRix5QkFBeUI7UUFDekIsTUFBTU4sbURBQVlBO1FBRWxCLG9CQUFvQjtRQUNwQixNQUFNQyxzREFBZUE7SUFDdkIsRUFBRSxPQUFPTSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx5QkFBeUJBO0lBQ3pDO0FBQ0Y7QUFFQUQsZ0JBQWdCRyxLQUFLLENBQUNELFFBQVFELEtBQUsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJtMmdvLy4vc3JjL2xpYi9kYi9pbmRleC50cz81OGQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRyaXp6bGUgfSBmcm9tIFwiZHJpenpsZS1vcm0vYmV0dGVyLXNxbGl0ZTNcIjtcbmltcG9ydCBEYXRhYmFzZSBmcm9tIFwiYmV0dGVyLXNxbGl0ZTNcIjtcbmltcG9ydCAqIGFzIHNjaGVtYSBmcm9tIFwiLi9zY2hlbWFcIjtcbmltcG9ydCB7IGpvaW4gfSBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IHsgaW5pdERhdGFiYXNlIH0gZnJvbSBcIi4vaW5pdFwiO1xuaW1wb3J0IHsgc2VlZFByb2R1Y3REYXRhIH0gZnJvbSBcIi4vc2VlZFwiO1xuXG4vLyBJbml0aWFsaXplIFNRTGl0ZSBkYXRhYmFzZVxuY29uc3Qgc3FsaXRlID0gbmV3IERhdGFiYXNlKGpvaW4ocHJvY2Vzcy5jd2QoKSwgXCJmYXJtMmdvLmRiXCIpKTtcbmV4cG9ydCBjb25zdCBkYiA9IGRyaXp6bGUoc3FsaXRlLCB7IHNjaGVtYSB9KTtcblxuLy8gSW5pdGlhbGl6ZSBkYXRhYmFzZSB0YWJsZXMgYW5kIHNlZWQgZGF0YVxuY29uc3Qgc2V0dXBEYXRhYmFzZSA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBDcmVhdGUgZGF0YWJhc2UgdGFibGVzXG4gICAgYXdhaXQgaW5pdERhdGFiYXNlKCk7XG5cbiAgICAvLyBTZWVkIHByb2R1Y3QgZGF0YVxuICAgIGF3YWl0IHNlZWRQcm9kdWN0RGF0YSgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJEYXRhYmFzZSBzZXR1cCBlcnJvcjpcIiwgZXJyb3IpO1xuICB9XG59O1xuXG5zZXR1cERhdGFiYXNlKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4iXSwibmFtZXMiOlsiZHJpenpsZSIsIkRhdGFiYXNlIiwic2NoZW1hIiwiam9pbiIsImluaXREYXRhYmFzZSIsInNlZWRQcm9kdWN0RGF0YSIsInNxbGl0ZSIsInByb2Nlc3MiLCJjd2QiLCJkYiIsInNldHVwRGF0YWJhc2UiLCJlcnJvciIsImNvbnNvbGUiLCJjYXRjaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/init.ts":
/*!****************************!*\
  !*** ./src/lib/db/init.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initDatabase: () => (/* binding */ initDatabase)\n/* harmony export */ });\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index */ \"(rsc)/./src/lib/db/index.ts\");\n\nasync function initDatabase() {\n    try {\n        // Create users table if it doesn't exist\n        _index__WEBPACK_IMPORTED_MODULE_0__.db.run(`\n      CREATE TABLE IF NOT EXISTS users (\n        id TEXT PRIMARY KEY,\n        email TEXT NOT NULL UNIQUE,\n        password_hash TEXT NOT NULL,\n        first_name TEXT NOT NULL,\n        last_name TEXT NOT NULL,\n        user_type TEXT NOT NULL,\n        created_at TEXT NOT NULL\n      )\n    `);\n        // Create consumers table if it doesn't exist\n        _index__WEBPACK_IMPORTED_MODULE_0__.db.run(`\n      CREATE TABLE IF NOT EXISTS consumers (\n        id TEXT PRIMARY KEY,\n        address TEXT,\n        city TEXT,\n        state TEXT,\n        postal_code TEXT,\n        phone_number TEXT,\n        FOREIGN KEY (id) REFERENCES users(id) ON DELETE CASCADE\n      )\n    `);\n        // Create farmers table if it doesn't exist\n        _index__WEBPACK_IMPORTED_MODULE_0__.db.run(`\n      CREATE TABLE IF NOT EXISTS farmers (\n        id TEXT PRIMARY KEY,\n        farm_name TEXT NOT NULL,\n        farm_description TEXT,\n        farm_address TEXT NOT NULL,\n        city TEXT NOT NULL,\n        state TEXT NOT NULL,\n        postal_code TEXT NOT NULL,\n        phone_number TEXT NOT NULL,\n        is_organic INTEGER DEFAULT 0,\n        is_non_gmo INTEGER DEFAULT 0,\n        is_sustainable INTEGER DEFAULT 0,\n        is_pasture_raised INTEGER DEFAULT 0,\n        FOREIGN KEY (id) REFERENCES users(id) ON DELETE CASCADE\n      )\n    `);\n        // Create product_categories table if it doesn't exist\n        _index__WEBPACK_IMPORTED_MODULE_0__.db.run(`\n      CREATE TABLE IF NOT EXISTS product_categories (\n        id TEXT PRIMARY KEY,\n        name TEXT NOT NULL,\n        description TEXT\n      )\n    `);\n        // Create products table if it doesn't exist\n        _index__WEBPACK_IMPORTED_MODULE_0__.db.run(`\n      CREATE TABLE IF NOT EXISTS products (\n        id TEXT PRIMARY KEY,\n        name TEXT NOT NULL,\n        description TEXT NOT NULL,\n        price REAL NOT NULL,\n        unit TEXT NOT NULL,\n        image_url TEXT NOT NULL,\n        stock INTEGER NOT NULL DEFAULT 0,\n        category_id TEXT,\n        farmer_id TEXT NOT NULL,\n        is_organic INTEGER DEFAULT 0,\n        is_non_gmo INTEGER DEFAULT 0,\n        is_sustainable INTEGER DEFAULT 0,\n        is_pasture_raised INTEGER DEFAULT 0,\n        created_at TEXT NOT NULL,\n        FOREIGN KEY (category_id) REFERENCES product_categories(id),\n        FOREIGN KEY (farmer_id) REFERENCES farmers(id) ON DELETE CASCADE\n      )\n    `);\n        // Create cart_items table if it doesn't exist\n        _index__WEBPACK_IMPORTED_MODULE_0__.db.run(`\n      CREATE TABLE IF NOT EXISTS cart_items (\n        id TEXT PRIMARY KEY,\n        user_id TEXT NOT NULL,\n        product_id TEXT NOT NULL,\n        quantity INTEGER NOT NULL DEFAULT 1,\n        created_at TEXT NOT NULL,\n        FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,\n        FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE\n      )\n    `);\n        // Create orders table if it doesn't exist\n        _index__WEBPACK_IMPORTED_MODULE_0__.db.run(`\n      CREATE TABLE IF NOT EXISTS orders (\n        id TEXT PRIMARY KEY,\n        user_id TEXT NOT NULL,\n        total REAL NOT NULL,\n        status TEXT NOT NULL DEFAULT 'pending',\n        shipping_address TEXT,\n        shipping_city TEXT,\n        shipping_state TEXT,\n        shipping_postal_code TEXT,\n        created_at TEXT NOT NULL,\n        updated_at TEXT NOT NULL,\n        FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE\n      )\n    `);\n        // Create order_items table if it doesn't exist\n        _index__WEBPACK_IMPORTED_MODULE_0__.db.run(`\n      CREATE TABLE IF NOT EXISTS order_items (\n        id TEXT PRIMARY KEY,\n        order_id TEXT NOT NULL,\n        product_id TEXT NOT NULL,\n        farmer_id TEXT NOT NULL,\n        quantity INTEGER NOT NULL,\n        price_per_unit REAL NOT NULL,\n        product_name TEXT NOT NULL,\n        created_at TEXT NOT NULL,\n        FOREIGN KEY (order_id) REFERENCES orders(id) ON DELETE CASCADE,\n        FOREIGN KEY (product_id) REFERENCES products(id),\n        FOREIGN KEY (farmer_id) REFERENCES farmers(id)\n      )\n    `);\n        // Create farmer_revenue table if it doesn't exist\n        _index__WEBPACK_IMPORTED_MODULE_0__.db.run(`\n      CREATE TABLE IF NOT EXISTS farmer_revenue (\n        id TEXT PRIMARY KEY,\n        farmer_id TEXT NOT NULL,\n        order_id TEXT NOT NULL,\n        amount REAL NOT NULL,\n        date TEXT NOT NULL,\n        created_at TEXT NOT NULL,\n        FOREIGN KEY (farmer_id) REFERENCES farmers(id) ON DELETE CASCADE,\n        FOREIGN KEY (order_id) REFERENCES orders(id)\n      )\n    `);\n        // Create customer_analytics table if it doesn't exist\n        _index__WEBPACK_IMPORTED_MODULE_0__.db.run(`\n      CREATE TABLE IF NOT EXISTS customer_analytics (\n        id TEXT PRIMARY KEY,\n        user_id TEXT NOT NULL,\n        total_orders INTEGER NOT NULL DEFAULT 0,\n        total_spent REAL NOT NULL DEFAULT 0,\n        first_order_date TEXT,\n        last_order_date TEXT,\n        preferred_categories TEXT,\n        preferred_farmers TEXT,\n        updated_at TEXT NOT NULL,\n        FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE\n      )\n    `);\n        // Create product_analytics table if it doesn't exist\n        _index__WEBPACK_IMPORTED_MODULE_0__.db.run(`\n      CREATE TABLE IF NOT EXISTS product_analytics (\n        id TEXT PRIMARY KEY,\n        product_id TEXT NOT NULL,\n        total_sold INTEGER NOT NULL DEFAULT 0,\n        total_revenue REAL NOT NULL DEFAULT 0,\n        last_sold_date TEXT,\n        updated_at TEXT NOT NULL,\n        FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE\n      )\n    `);\n        console.log(\"Database tables created successfully\");\n    } catch (error) {\n        console.error(\"Error creating database tables:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiL2luaXQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkI7QUFFdEIsZUFBZUM7SUFDcEIsSUFBSTtRQUNGLHlDQUF5QztRQUN6Q0Qsc0NBQUVBLENBQUNFLEdBQUcsQ0FBQyxDQUFDOzs7Ozs7Ozs7O0lBVVIsQ0FBQztRQUVELDZDQUE2QztRQUM3Q0Ysc0NBQUVBLENBQUNFLEdBQUcsQ0FBQyxDQUFDOzs7Ozs7Ozs7O0lBVVIsQ0FBQztRQUVELDJDQUEyQztRQUMzQ0Ysc0NBQUVBLENBQUNFLEdBQUcsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0lBZ0JSLENBQUM7UUFFRCxzREFBc0Q7UUFDdERGLHNDQUFFQSxDQUFDRSxHQUFHLENBQUMsQ0FBQzs7Ozs7O0lBTVIsQ0FBQztRQUVELDRDQUE0QztRQUM1Q0Ysc0NBQUVBLENBQUNFLEdBQUcsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBbUJSLENBQUM7UUFFRCw4Q0FBOEM7UUFDOUNGLHNDQUFFQSxDQUFDRSxHQUFHLENBQUMsQ0FBQzs7Ozs7Ozs7OztJQVVSLENBQUM7UUFFRCwwQ0FBMEM7UUFDMUNGLHNDQUFFQSxDQUFDRSxHQUFHLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7SUFjUixDQUFDO1FBRUQsK0NBQStDO1FBQy9DRixzQ0FBRUEsQ0FBQ0UsR0FBRyxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7O0lBY1IsQ0FBQztRQUVELGtEQUFrRDtRQUNsREYsc0NBQUVBLENBQUNFLEdBQUcsQ0FBQyxDQUFDOzs7Ozs7Ozs7OztJQVdSLENBQUM7UUFFRCxzREFBc0Q7UUFDdERGLHNDQUFFQSxDQUFDRSxHQUFHLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7OztJQWFSLENBQUM7UUFFRCxxREFBcUQ7UUFDckRGLHNDQUFFQSxDQUFDRSxHQUFHLENBQUMsQ0FBQzs7Ozs7Ozs7OztJQVVSLENBQUM7UUFFREMsUUFBUUMsR0FBRyxDQUFDO0lBQ2QsRUFBRSxPQUFPQyxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQyxtQ0FBbUNBO1FBQ2pELE1BQU1BO0lBQ1I7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Zhcm0yZ28vLi9zcmMvbGliL2RiL2luaXQudHM/NGRhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkYiB9IGZyb20gXCIuL2luZGV4XCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0RGF0YWJhc2UoKSB7XG4gIHRyeSB7XG4gICAgLy8gQ3JlYXRlIHVzZXJzIHRhYmxlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICBkYi5ydW4oYFxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdXNlcnMgKFxuICAgICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgICBlbWFpbCBURVhUIE5PVCBOVUxMIFVOSVFVRSxcbiAgICAgICAgcGFzc3dvcmRfaGFzaCBURVhUIE5PVCBOVUxMLFxuICAgICAgICBmaXJzdF9uYW1lIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIGxhc3RfbmFtZSBURVhUIE5PVCBOVUxMLFxuICAgICAgICB1c2VyX3R5cGUgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMXG4gICAgICApXG4gICAgYCk7XG5cbiAgICAvLyBDcmVhdGUgY29uc3VtZXJzIHRhYmxlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICBkYi5ydW4oYFxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgY29uc3VtZXJzIChcbiAgICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgICAgYWRkcmVzcyBURVhULFxuICAgICAgICBjaXR5IFRFWFQsXG4gICAgICAgIHN0YXRlIFRFWFQsXG4gICAgICAgIHBvc3RhbF9jb2RlIFRFWFQsXG4gICAgICAgIHBob25lX251bWJlciBURVhULFxuICAgICAgICBGT1JFSUdOIEtFWSAoaWQpIFJFRkVSRU5DRVMgdXNlcnMoaWQpIE9OIERFTEVURSBDQVNDQURFXG4gICAgICApXG4gICAgYCk7XG5cbiAgICAvLyBDcmVhdGUgZmFybWVycyB0YWJsZSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgZGIucnVuKGBcbiAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGZhcm1lcnMgKFxuICAgICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgICBmYXJtX25hbWUgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgZmFybV9kZXNjcmlwdGlvbiBURVhULFxuICAgICAgICBmYXJtX2FkZHJlc3MgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgY2l0eSBURVhUIE5PVCBOVUxMLFxuICAgICAgICBzdGF0ZSBURVhUIE5PVCBOVUxMLFxuICAgICAgICBwb3N0YWxfY29kZSBURVhUIE5PVCBOVUxMLFxuICAgICAgICBwaG9uZV9udW1iZXIgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgaXNfb3JnYW5pYyBJTlRFR0VSIERFRkFVTFQgMCxcbiAgICAgICAgaXNfbm9uX2dtbyBJTlRFR0VSIERFRkFVTFQgMCxcbiAgICAgICAgaXNfc3VzdGFpbmFibGUgSU5URUdFUiBERUZBVUxUIDAsXG4gICAgICAgIGlzX3Bhc3R1cmVfcmFpc2VkIElOVEVHRVIgREVGQVVMVCAwLFxuICAgICAgICBGT1JFSUdOIEtFWSAoaWQpIFJFRkVSRU5DRVMgdXNlcnMoaWQpIE9OIERFTEVURSBDQVNDQURFXG4gICAgICApXG4gICAgYCk7XG5cbiAgICAvLyBDcmVhdGUgcHJvZHVjdF9jYXRlZ29yaWVzIHRhYmxlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICBkYi5ydW4oYFxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgcHJvZHVjdF9jYXRlZ29yaWVzIChcbiAgICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgICAgbmFtZSBURVhUIE5PVCBOVUxMLFxuICAgICAgICBkZXNjcmlwdGlvbiBURVhUXG4gICAgICApXG4gICAgYCk7XG5cbiAgICAvLyBDcmVhdGUgcHJvZHVjdHMgdGFibGUgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgIGRiLnJ1bihgXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBwcm9kdWN0cyAoXG4gICAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICAgIG5hbWUgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgZGVzY3JpcHRpb24gVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgcHJpY2UgUkVBTCBOT1QgTlVMTCxcbiAgICAgICAgdW5pdCBURVhUIE5PVCBOVUxMLFxuICAgICAgICBpbWFnZV91cmwgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgc3RvY2sgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDAsXG4gICAgICAgIGNhdGVnb3J5X2lkIFRFWFQsXG4gICAgICAgIGZhcm1lcl9pZCBURVhUIE5PVCBOVUxMLFxuICAgICAgICBpc19vcmdhbmljIElOVEVHRVIgREVGQVVMVCAwLFxuICAgICAgICBpc19ub25fZ21vIElOVEVHRVIgREVGQVVMVCAwLFxuICAgICAgICBpc19zdXN0YWluYWJsZSBJTlRFR0VSIERFRkFVTFQgMCxcbiAgICAgICAgaXNfcGFzdHVyZV9yYWlzZWQgSU5URUdFUiBERUZBVUxUIDAsXG4gICAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgRk9SRUlHTiBLRVkgKGNhdGVnb3J5X2lkKSBSRUZFUkVOQ0VTIHByb2R1Y3RfY2F0ZWdvcmllcyhpZCksXG4gICAgICAgIEZPUkVJR04gS0VZIChmYXJtZXJfaWQpIFJFRkVSRU5DRVMgZmFybWVycyhpZCkgT04gREVMRVRFIENBU0NBREVcbiAgICAgIClcbiAgICBgKTtcblxuICAgIC8vIENyZWF0ZSBjYXJ0X2l0ZW1zIHRhYmxlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICBkYi5ydW4oYFxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgY2FydF9pdGVtcyAoXG4gICAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICAgIHVzZXJfaWQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgcHJvZHVjdF9pZCBURVhUIE5PVCBOVUxMLFxuICAgICAgICBxdWFudGl0eSBJTlRFR0VSIE5PVCBOVUxMIERFRkFVTFQgMSxcbiAgICAgICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgICBGT1JFSUdOIEtFWSAodXNlcl9pZCkgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIENBU0NBREUsXG4gICAgICAgIEZPUkVJR04gS0VZIChwcm9kdWN0X2lkKSBSRUZFUkVOQ0VTIHByb2R1Y3RzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERVxuICAgICAgKVxuICAgIGApO1xuXG4gICAgLy8gQ3JlYXRlIG9yZGVycyB0YWJsZSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgZGIucnVuKGBcbiAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIG9yZGVycyAoXG4gICAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICAgIHVzZXJfaWQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgdG90YWwgUkVBTCBOT1QgTlVMTCxcbiAgICAgICAgc3RhdHVzIFRFWFQgTk9UIE5VTEwgREVGQVVMVCAncGVuZGluZycsXG4gICAgICAgIHNoaXBwaW5nX2FkZHJlc3MgVEVYVCxcbiAgICAgICAgc2hpcHBpbmdfY2l0eSBURVhULFxuICAgICAgICBzaGlwcGluZ19zdGF0ZSBURVhULFxuICAgICAgICBzaGlwcGluZ19wb3N0YWxfY29kZSBURVhULFxuICAgICAgICBjcmVhdGVkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIHVwZGF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgRk9SRUlHTiBLRVkgKHVzZXJfaWQpIFJFRkVSRU5DRVMgdXNlcnMoaWQpIE9OIERFTEVURSBDQVNDQURFXG4gICAgICApXG4gICAgYCk7XG5cbiAgICAvLyBDcmVhdGUgb3JkZXJfaXRlbXMgdGFibGUgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgIGRiLnJ1bihgXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBvcmRlcl9pdGVtcyAoXG4gICAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICAgIG9yZGVyX2lkIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIHByb2R1Y3RfaWQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgZmFybWVyX2lkIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIHF1YW50aXR5IElOVEVHRVIgTk9UIE5VTEwsXG4gICAgICAgIHByaWNlX3Blcl91bml0IFJFQUwgTk9UIE5VTEwsXG4gICAgICAgIHByb2R1Y3RfbmFtZSBURVhUIE5PVCBOVUxMLFxuICAgICAgICBjcmVhdGVkX2F0IFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIEZPUkVJR04gS0VZIChvcmRlcl9pZCkgUkVGRVJFTkNFUyBvcmRlcnMoaWQpIE9OIERFTEVURSBDQVNDQURFLFxuICAgICAgICBGT1JFSUdOIEtFWSAocHJvZHVjdF9pZCkgUkVGRVJFTkNFUyBwcm9kdWN0cyhpZCksXG4gICAgICAgIEZPUkVJR04gS0VZIChmYXJtZXJfaWQpIFJFRkVSRU5DRVMgZmFybWVycyhpZClcbiAgICAgIClcbiAgICBgKTtcblxuICAgIC8vIENyZWF0ZSBmYXJtZXJfcmV2ZW51ZSB0YWJsZSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgZGIucnVuKGBcbiAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGZhcm1lcl9yZXZlbnVlIChcbiAgICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgICAgZmFybWVyX2lkIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIG9yZGVyX2lkIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIGFtb3VudCBSRUFMIE5PVCBOVUxMLFxuICAgICAgICBkYXRlIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIGNyZWF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgRk9SRUlHTiBLRVkgKGZhcm1lcl9pZCkgUkVGRVJFTkNFUyBmYXJtZXJzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERSxcbiAgICAgICAgRk9SRUlHTiBLRVkgKG9yZGVyX2lkKSBSRUZFUkVOQ0VTIG9yZGVycyhpZClcbiAgICAgIClcbiAgICBgKTtcblxuICAgIC8vIENyZWF0ZSBjdXN0b21lcl9hbmFseXRpY3MgdGFibGUgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgIGRiLnJ1bihgXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBjdXN0b21lcl9hbmFseXRpY3MgKFxuICAgICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgICB1c2VyX2lkIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIHRvdGFsX29yZGVycyBJTlRFR0VSIE5PVCBOVUxMIERFRkFVTFQgMCxcbiAgICAgICAgdG90YWxfc3BlbnQgUkVBTCBOT1QgTlVMTCBERUZBVUxUIDAsXG4gICAgICAgIGZpcnN0X29yZGVyX2RhdGUgVEVYVCxcbiAgICAgICAgbGFzdF9vcmRlcl9kYXRlIFRFWFQsXG4gICAgICAgIHByZWZlcnJlZF9jYXRlZ29yaWVzIFRFWFQsXG4gICAgICAgIHByZWZlcnJlZF9mYXJtZXJzIFRFWFQsXG4gICAgICAgIHVwZGF0ZWRfYXQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgRk9SRUlHTiBLRVkgKHVzZXJfaWQpIFJFRkVSRU5DRVMgdXNlcnMoaWQpIE9OIERFTEVURSBDQVNDQURFXG4gICAgICApXG4gICAgYCk7XG5cbiAgICAvLyBDcmVhdGUgcHJvZHVjdF9hbmFseXRpY3MgdGFibGUgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgIGRiLnJ1bihgXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBwcm9kdWN0X2FuYWx5dGljcyAoXG4gICAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVksXG4gICAgICAgIHByb2R1Y3RfaWQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgdG90YWxfc29sZCBJTlRFR0VSIE5PVCBOVUxMIERFRkFVTFQgMCxcbiAgICAgICAgdG90YWxfcmV2ZW51ZSBSRUFMIE5PVCBOVUxMIERFRkFVTFQgMCxcbiAgICAgICAgbGFzdF9zb2xkX2RhdGUgVEVYVCxcbiAgICAgICAgdXBkYXRlZF9hdCBURVhUIE5PVCBOVUxMLFxuICAgICAgICBGT1JFSUdOIEtFWSAocHJvZHVjdF9pZCkgUkVGRVJFTkNFUyBwcm9kdWN0cyhpZCkgT04gREVMRVRFIENBU0NBREVcbiAgICAgIClcbiAgICBgKTtcblxuICAgIGNvbnNvbGUubG9nKFwiRGF0YWJhc2UgdGFibGVzIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkYXRhYmFzZSB0YWJsZXM6XCIsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImRiIiwiaW5pdERhdGFiYXNlIiwicnVuIiwiY29uc29sZSIsImxvZyIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/init.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/schema.ts":
/*!******************************!*\
  !*** ./src/lib/db/schema.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cartItems: () => (/* binding */ cartItems),\n/* harmony export */   consumers: () => (/* binding */ consumers),\n/* harmony export */   customerAnalytics: () => (/* binding */ customerAnalytics),\n/* harmony export */   farmerRevenue: () => (/* binding */ farmerRevenue),\n/* harmony export */   farmers: () => (/* binding */ farmers),\n/* harmony export */   orderItems: () => (/* binding */ orderItems),\n/* harmony export */   orders: () => (/* binding */ orders),\n/* harmony export */   productAnalytics: () => (/* binding */ productAnalytics),\n/* harmony export */   productCategories: () => (/* binding */ productCategories),\n/* harmony export */   products: () => (/* binding */ products),\n/* harmony export */   users: () => (/* binding */ users)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-orm/sqlite-core */ \"(rsc)/./node_modules/drizzle-orm/sqlite-core/table.js\");\n/* harmony import */ var drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/sqlite-core */ \"(rsc)/./node_modules/drizzle-orm/sqlite-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/sqlite-core */ \"(rsc)/./node_modules/drizzle-orm/sqlite-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/sqlite-core */ \"(rsc)/./node_modules/drizzle-orm/sqlite-core/columns/real.js\");\n\n// Base users table\nconst users = (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)(\"users\", {\n    id: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"id\").notNull().primaryKey(),\n    email: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"email\").notNull().unique(),\n    passwordHash: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"password_hash\").notNull(),\n    firstName: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"first_name\").notNull(),\n    lastName: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"last_name\").notNull(),\n    userType: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"user_type\", {\n        enum: [\n            \"consumer\",\n            \"farmer\"\n        ]\n    }).notNull(),\n    createdAt: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"created_at\").notNull()\n});\n// Consumers table - extends users\nconst consumers = (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)(\"consumers\", {\n    id: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"id\").notNull().primaryKey().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    address: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"address\"),\n    city: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"city\"),\n    state: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"state\"),\n    postalCode: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"postal_code\"),\n    phoneNumber: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"phone_number\")\n});\n// Farmers table - extends users\nconst farmers = (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)(\"farmers\", {\n    id: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"id\").notNull().primaryKey().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    farmName: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"farm_name\").notNull(),\n    farmDescription: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"farm_description\"),\n    farmAddress: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"farm_address\").notNull(),\n    city: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"city\").notNull(),\n    state: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"state\").notNull(),\n    postalCode: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"postal_code\").notNull(),\n    phoneNumber: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"phone_number\").notNull(),\n    isOrganic: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"is_organic\", {\n        mode: \"boolean\"\n    }).default(false),\n    isNonGMO: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"is_non_gmo\", {\n        mode: \"boolean\"\n    }).default(false),\n    isSustainable: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"is_sustainable\", {\n        mode: \"boolean\"\n    }).default(false),\n    isPastureRaised: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"is_pasture_raised\", {\n        mode: \"boolean\"\n    }).default(false)\n});\n// Product Categories\nconst productCategories = (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)(\"product_categories\", {\n    id: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"id\").notNull().primaryKey(),\n    name: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"name\").notNull(),\n    description: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"description\")\n});\n// Products schema\nconst products = (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)(\"products\", {\n    id: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"id\").notNull().primaryKey(),\n    name: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"name\").notNull(),\n    description: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"description\").notNull(),\n    price: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_3__.real)(\"price\").notNull(),\n    unit: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"unit\").notNull(),\n    imageUrl: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"image_url\").notNull(),\n    stock: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"stock\").notNull().default(0),\n    categoryId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"category_id\").references(()=>productCategories.id),\n    farmerId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"farmer_id\").notNull().references(()=>farmers.id, {\n        onDelete: \"cascade\"\n    }),\n    isOrganic: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"is_organic\", {\n        mode: \"boolean\"\n    }).default(false),\n    isNonGMO: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"is_non_gmo\", {\n        mode: \"boolean\"\n    }).default(false),\n    isSustainable: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"is_sustainable\", {\n        mode: \"boolean\"\n    }).default(false),\n    isPastureRaised: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"is_pasture_raised\", {\n        mode: \"boolean\"\n    }).default(false),\n    createdAt: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"created_at\").notNull()\n});\n// Cart items schema\nconst cartItems = (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)(\"cart_items\", {\n    id: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"id\").notNull().primaryKey(),\n    userId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    productId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"product_id\").notNull().references(()=>products.id, {\n        onDelete: \"cascade\"\n    }),\n    quantity: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"quantity\").notNull().default(1),\n    createdAt: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"created_at\").notNull()\n});\n// Orders schema\nconst orders = (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)(\"orders\", {\n    id: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"id\").notNull().primaryKey(),\n    userId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    total: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_3__.real)(\"total\").notNull(),\n    status: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"status\", {\n        enum: [\n            \"pending\",\n            \"processing\",\n            \"completed\",\n            \"cancelled\"\n        ]\n    }).notNull().default(\"pending\"),\n    shippingAddress: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"shipping_address\"),\n    shippingCity: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"shipping_city\"),\n    shippingState: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"shipping_state\"),\n    shippingPostalCode: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"shipping_postal_code\"),\n    createdAt: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"created_at\").notNull(),\n    updatedAt: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"updated_at\").notNull()\n});\n// Order items schema - connects orders to products\nconst orderItems = (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)(\"order_items\", {\n    id: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"id\").notNull().primaryKey(),\n    orderId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"order_id\").notNull().references(()=>orders.id, {\n        onDelete: \"cascade\"\n    }),\n    productId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"product_id\").notNull().references(()=>products.id),\n    farmerId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"farmer_id\").notNull().references(()=>farmers.id),\n    quantity: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"quantity\").notNull(),\n    pricePerUnit: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_3__.real)(\"price_per_unit\").notNull(),\n    productName: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"product_name\").notNull(),\n    createdAt: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"created_at\").notNull()\n});\n// Revenue tracking for farmers\nconst farmerRevenue = (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)(\"farmer_revenue\", {\n    id: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"id\").notNull().primaryKey(),\n    farmerId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"farmer_id\").notNull().references(()=>farmers.id, {\n        onDelete: \"cascade\"\n    }),\n    orderId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"order_id\").notNull().references(()=>orders.id),\n    amount: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_3__.real)(\"amount\").notNull(),\n    date: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"date\").notNull(),\n    createdAt: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"created_at\").notNull()\n});\n// Customer analytics schema\nconst customerAnalytics = (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)(\"customer_analytics\", {\n    id: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"id\").notNull().primaryKey(),\n    userId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    totalOrders: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"total_orders\").notNull().default(0),\n    totalSpent: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_3__.real)(\"total_spent\").notNull().default(0),\n    firstOrderDate: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"first_order_date\"),\n    lastOrderDate: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"last_order_date\"),\n    preferredCategories: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"preferred_categories\"),\n    preferredFarmers: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"preferred_farmers\"),\n    updatedAt: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"updated_at\").notNull()\n});\n// Product analytics schema\nconst productAnalytics = (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)(\"product_analytics\", {\n    id: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"id\").notNull().primaryKey(),\n    productId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"product_id\").notNull().references(()=>products.id, {\n        onDelete: \"cascade\"\n    }),\n    totalSold: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"total_sold\").notNull().default(0),\n    totalRevenue: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_3__.real)(\"total_revenue\").notNull().default(0),\n    lastSoldDate: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"last_sold_date\"),\n    updatedAt: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"updated_at\").notNull()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTyxDQUFDO0lBQ2xEb0MsZ0JBQWdCakUsNkRBQUlBLENBQUM7SUFDckJrRSxlQUFlbEUsNkRBQUlBLENBQUM7SUFDcEJtRSxxQkFBcUJuRSw2REFBSUEsQ0FBQztJQUMxQm9FLGtCQUFrQnBFLDZEQUFJQSxDQUFDO0lBQ3ZCc0QsV0FBV3RELDZEQUFJQSxDQUFDLGNBQWNLLE9BQU87QUFDdkMsR0FBRztBQUVILDJCQUEyQjtBQUNwQixNQUFNZ0UsbUJBQW1CdEUsb0VBQVdBLENBQUMscUJBQXFCO0lBQy9ESyxJQUFJSiw2REFBSUEsQ0FBQyxNQUFNSyxPQUFPLEdBQUdDLFVBQVU7SUFDbkN1QyxXQUFXN0MsNkRBQUlBLENBQUMsY0FDYkssT0FBTyxHQUNQVyxVQUFVLENBQUMsSUFBTW9CLFNBQVNoQyxFQUFFLEVBQUU7UUFBRWEsVUFBVTtJQUFVO0lBQ3ZEcUQsV0FBV3JFLGdFQUFPQSxDQUFDLGNBQWNJLE9BQU8sR0FBR3dCLE9BQU8sQ0FBQztJQUNuRDBDLGNBQWNyRSw2REFBSUEsQ0FBQyxpQkFBaUJHLE9BQU8sR0FBR3dCLE9BQU8sQ0FBQztJQUN0RDJDLGNBQWN4RSw2REFBSUEsQ0FBQztJQUNuQnNELFdBQVd0RCw2REFBSUEsQ0FBQyxjQUFjSyxPQUFPO0FBQ3ZDLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJtMmdvLy4vc3JjL2xpYi9kYi9zY2hlbWEudHM/NjJiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzcWxpdGVUYWJsZSwgdGV4dCwgaW50ZWdlciwgcmVhbCB9IGZyb20gXCJkcml6emxlLW9ybS9zcWxpdGUtY29yZVwiO1xuXG4vLyBCYXNlIHVzZXJzIHRhYmxlXG5leHBvcnQgY29uc3QgdXNlcnMgPSBzcWxpdGVUYWJsZShcInVzZXJzXCIsIHtcbiAgaWQ6IHRleHQoXCJpZFwiKS5ub3ROdWxsKCkucHJpbWFyeUtleSgpLFxuICBlbWFpbDogdGV4dChcImVtYWlsXCIpLm5vdE51bGwoKS51bmlxdWUoKSxcbiAgcGFzc3dvcmRIYXNoOiB0ZXh0KFwicGFzc3dvcmRfaGFzaFwiKS5ub3ROdWxsKCksXG4gIGZpcnN0TmFtZTogdGV4dChcImZpcnN0X25hbWVcIikubm90TnVsbCgpLFxuICBsYXN0TmFtZTogdGV4dChcImxhc3RfbmFtZVwiKS5ub3ROdWxsKCksXG4gIHVzZXJUeXBlOiB0ZXh0KFwidXNlcl90eXBlXCIsIHsgZW51bTogW1wiY29uc3VtZXJcIiwgXCJmYXJtZXJcIl0gfSkubm90TnVsbCgpLFxuICBjcmVhdGVkQXQ6IHRleHQoXCJjcmVhdGVkX2F0XCIpLm5vdE51bGwoKSxcbn0pO1xuXG4vLyBDb25zdW1lcnMgdGFibGUgLSBleHRlbmRzIHVzZXJzXG5leHBvcnQgY29uc3QgY29uc3VtZXJzID0gc3FsaXRlVGFibGUoXCJjb25zdW1lcnNcIiwge1xuICBpZDogdGV4dChcImlkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5wcmltYXJ5S2V5KClcbiAgICAucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gIGFkZHJlc3M6IHRleHQoXCJhZGRyZXNzXCIpLFxuICBjaXR5OiB0ZXh0KFwiY2l0eVwiKSxcbiAgc3RhdGU6IHRleHQoXCJzdGF0ZVwiKSxcbiAgcG9zdGFsQ29kZTogdGV4dChcInBvc3RhbF9jb2RlXCIpLFxuICBwaG9uZU51bWJlcjogdGV4dChcInBob25lX251bWJlclwiKSxcbn0pO1xuXG4vLyBGYXJtZXJzIHRhYmxlIC0gZXh0ZW5kcyB1c2Vyc1xuZXhwb3J0IGNvbnN0IGZhcm1lcnMgPSBzcWxpdGVUYWJsZShcImZhcm1lcnNcIiwge1xuICBpZDogdGV4dChcImlkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5wcmltYXJ5S2V5KClcbiAgICAucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gIGZhcm1OYW1lOiB0ZXh0KFwiZmFybV9uYW1lXCIpLm5vdE51bGwoKSxcbiAgZmFybURlc2NyaXB0aW9uOiB0ZXh0KFwiZmFybV9kZXNjcmlwdGlvblwiKSxcbiAgZmFybUFkZHJlc3M6IHRleHQoXCJmYXJtX2FkZHJlc3NcIikubm90TnVsbCgpLFxuICBjaXR5OiB0ZXh0KFwiY2l0eVwiKS5ub3ROdWxsKCksXG4gIHN0YXRlOiB0ZXh0KFwic3RhdGVcIikubm90TnVsbCgpLFxuICBwb3N0YWxDb2RlOiB0ZXh0KFwicG9zdGFsX2NvZGVcIikubm90TnVsbCgpLFxuICBwaG9uZU51bWJlcjogdGV4dChcInBob25lX251bWJlclwiKS5ub3ROdWxsKCksXG4gIGlzT3JnYW5pYzogaW50ZWdlcihcImlzX29yZ2FuaWNcIiwgeyBtb2RlOiBcImJvb2xlYW5cIiB9KS5kZWZhdWx0KGZhbHNlKSxcbiAgaXNOb25HTU86IGludGVnZXIoXCJpc19ub25fZ21vXCIsIHsgbW9kZTogXCJib29sZWFuXCIgfSkuZGVmYXVsdChmYWxzZSksXG4gIGlzU3VzdGFpbmFibGU6IGludGVnZXIoXCJpc19zdXN0YWluYWJsZVwiLCB7IG1vZGU6IFwiYm9vbGVhblwiIH0pLmRlZmF1bHQoZmFsc2UpLFxuICBpc1Bhc3R1cmVSYWlzZWQ6IGludGVnZXIoXCJpc19wYXN0dXJlX3JhaXNlZFwiLCB7IG1vZGU6IFwiYm9vbGVhblwiIH0pLmRlZmF1bHQoXG4gICAgZmFsc2VcbiAgKSxcbn0pO1xuXG4vLyBQcm9kdWN0IENhdGVnb3JpZXNcbmV4cG9ydCBjb25zdCBwcm9kdWN0Q2F0ZWdvcmllcyA9IHNxbGl0ZVRhYmxlKFwicHJvZHVjdF9jYXRlZ29yaWVzXCIsIHtcbiAgaWQ6IHRleHQoXCJpZFwiKS5ub3ROdWxsKCkucHJpbWFyeUtleSgpLFxuICBuYW1lOiB0ZXh0KFwibmFtZVwiKS5ub3ROdWxsKCksXG4gIGRlc2NyaXB0aW9uOiB0ZXh0KFwiZGVzY3JpcHRpb25cIiksXG59KTtcblxuLy8gUHJvZHVjdHMgc2NoZW1hXG5leHBvcnQgY29uc3QgcHJvZHVjdHMgPSBzcWxpdGVUYWJsZShcInByb2R1Y3RzXCIsIHtcbiAgaWQ6IHRleHQoXCJpZFwiKS5ub3ROdWxsKCkucHJpbWFyeUtleSgpLFxuICBuYW1lOiB0ZXh0KFwibmFtZVwiKS5ub3ROdWxsKCksXG4gIGRlc2NyaXB0aW9uOiB0ZXh0KFwiZGVzY3JpcHRpb25cIikubm90TnVsbCgpLFxuICBwcmljZTogcmVhbChcInByaWNlXCIpLm5vdE51bGwoKSxcbiAgdW5pdDogdGV4dChcInVuaXRcIikubm90TnVsbCgpLCAvLyBlLmcuLCBsYiwgZWFjaCwgZG96ZW5cbiAgaW1hZ2VVcmw6IHRleHQoXCJpbWFnZV91cmxcIikubm90TnVsbCgpLFxuICBzdG9jazogaW50ZWdlcihcInN0b2NrXCIpLm5vdE51bGwoKS5kZWZhdWx0KDApLFxuICBjYXRlZ29yeUlkOiB0ZXh0KFwiY2F0ZWdvcnlfaWRcIikucmVmZXJlbmNlcygoKSA9PiBwcm9kdWN0Q2F0ZWdvcmllcy5pZCksXG4gIGZhcm1lcklkOiB0ZXh0KFwiZmFybWVyX2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IGZhcm1lcnMuaWQsIHsgb25EZWxldGU6IFwiY2FzY2FkZVwiIH0pLFxuICBpc09yZ2FuaWM6IGludGVnZXIoXCJpc19vcmdhbmljXCIsIHsgbW9kZTogXCJib29sZWFuXCIgfSkuZGVmYXVsdChmYWxzZSksXG4gIGlzTm9uR01POiBpbnRlZ2VyKFwiaXNfbm9uX2dtb1wiLCB7IG1vZGU6IFwiYm9vbGVhblwiIH0pLmRlZmF1bHQoZmFsc2UpLFxuICBpc1N1c3RhaW5hYmxlOiBpbnRlZ2VyKFwiaXNfc3VzdGFpbmFibGVcIiwgeyBtb2RlOiBcImJvb2xlYW5cIiB9KS5kZWZhdWx0KGZhbHNlKSxcbiAgaXNQYXN0dXJlUmFpc2VkOiBpbnRlZ2VyKFwiaXNfcGFzdHVyZV9yYWlzZWRcIiwgeyBtb2RlOiBcImJvb2xlYW5cIiB9KS5kZWZhdWx0KFxuICAgIGZhbHNlXG4gICksXG4gIGNyZWF0ZWRBdDogdGV4dChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLFxufSk7XG5cbi8vIENhcnQgaXRlbXMgc2NoZW1hXG5leHBvcnQgY29uc3QgY2FydEl0ZW1zID0gc3FsaXRlVGFibGUoXCJjYXJ0X2l0ZW1zXCIsIHtcbiAgaWQ6IHRleHQoXCJpZFwiKS5ub3ROdWxsKCkucHJpbWFyeUtleSgpLFxuICB1c2VySWQ6IHRleHQoXCJ1c2VyX2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkLCB7IG9uRGVsZXRlOiBcImNhc2NhZGVcIiB9KSxcbiAgcHJvZHVjdElkOiB0ZXh0KFwicHJvZHVjdF9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBwcm9kdWN0cy5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gIHF1YW50aXR5OiBpbnRlZ2VyKFwicXVhbnRpdHlcIikubm90TnVsbCgpLmRlZmF1bHQoMSksXG4gIGNyZWF0ZWRBdDogdGV4dChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLFxufSk7XG5cbi8vIE9yZGVycyBzY2hlbWFcbmV4cG9ydCBjb25zdCBvcmRlcnMgPSBzcWxpdGVUYWJsZShcIm9yZGVyc1wiLCB7XG4gIGlkOiB0ZXh0KFwiaWRcIikubm90TnVsbCgpLnByaW1hcnlLZXkoKSxcbiAgdXNlcklkOiB0ZXh0KFwidXNlcl9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gIHRvdGFsOiByZWFsKFwidG90YWxcIikubm90TnVsbCgpLFxuICBzdGF0dXM6IHRleHQoXCJzdGF0dXNcIiwge1xuICAgIGVudW06IFtcInBlbmRpbmdcIiwgXCJwcm9jZXNzaW5nXCIsIFwiY29tcGxldGVkXCIsIFwiY2FuY2VsbGVkXCJdLFxuICB9KVxuICAgIC5ub3ROdWxsKClcbiAgICAuZGVmYXVsdChcInBlbmRpbmdcIiksXG4gIHNoaXBwaW5nQWRkcmVzczogdGV4dChcInNoaXBwaW5nX2FkZHJlc3NcIiksXG4gIHNoaXBwaW5nQ2l0eTogdGV4dChcInNoaXBwaW5nX2NpdHlcIiksXG4gIHNoaXBwaW5nU3RhdGU6IHRleHQoXCJzaGlwcGluZ19zdGF0ZVwiKSxcbiAgc2hpcHBpbmdQb3N0YWxDb2RlOiB0ZXh0KFwic2hpcHBpbmdfcG9zdGFsX2NvZGVcIiksXG4gIGNyZWF0ZWRBdDogdGV4dChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLFxuICB1cGRhdGVkQXQ6IHRleHQoXCJ1cGRhdGVkX2F0XCIpLm5vdE51bGwoKSxcbn0pO1xuXG4vLyBPcmRlciBpdGVtcyBzY2hlbWEgLSBjb25uZWN0cyBvcmRlcnMgdG8gcHJvZHVjdHNcbmV4cG9ydCBjb25zdCBvcmRlckl0ZW1zID0gc3FsaXRlVGFibGUoXCJvcmRlcl9pdGVtc1wiLCB7XG4gIGlkOiB0ZXh0KFwiaWRcIikubm90TnVsbCgpLnByaW1hcnlLZXkoKSxcbiAgb3JkZXJJZDogdGV4dChcIm9yZGVyX2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IG9yZGVycy5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gIHByb2R1Y3RJZDogdGV4dChcInByb2R1Y3RfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gcHJvZHVjdHMuaWQpLFxuICBmYXJtZXJJZDogdGV4dChcImZhcm1lcl9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBmYXJtZXJzLmlkKSxcbiAgcXVhbnRpdHk6IGludGVnZXIoXCJxdWFudGl0eVwiKS5ub3ROdWxsKCksXG4gIHByaWNlUGVyVW5pdDogcmVhbChcInByaWNlX3Blcl91bml0XCIpLm5vdE51bGwoKSwgLy8gU3RvcmUgcHJpY2UgYXQgdGltZSBvZiBwdXJjaGFzZVxuICBwcm9kdWN0TmFtZTogdGV4dChcInByb2R1Y3RfbmFtZVwiKS5ub3ROdWxsKCksIC8vIFN0b3JlIHByb2R1Y3QgbmFtZSBhdCB0aW1lIG9mIHB1cmNoYXNlXG4gIGNyZWF0ZWRBdDogdGV4dChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLFxufSk7XG5cbi8vIFJldmVudWUgdHJhY2tpbmcgZm9yIGZhcm1lcnNcbmV4cG9ydCBjb25zdCBmYXJtZXJSZXZlbnVlID0gc3FsaXRlVGFibGUoXCJmYXJtZXJfcmV2ZW51ZVwiLCB7XG4gIGlkOiB0ZXh0KFwiaWRcIikubm90TnVsbCgpLnByaW1hcnlLZXkoKSxcbiAgZmFybWVySWQ6IHRleHQoXCJmYXJtZXJfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gZmFybWVycy5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gIG9yZGVySWQ6IHRleHQoXCJvcmRlcl9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBvcmRlcnMuaWQpLFxuICBhbW91bnQ6IHJlYWwoXCJhbW91bnRcIikubm90TnVsbCgpLFxuICBkYXRlOiB0ZXh0KFwiZGF0ZVwiKS5ub3ROdWxsKCksIC8vIFlZWVktTU0tREQgZm9ybWF0IGZvciBlYXNpZXIgcXVlcnlpbmcgYnkgZGF0ZVxuICBjcmVhdGVkQXQ6IHRleHQoXCJjcmVhdGVkX2F0XCIpLm5vdE51bGwoKSxcbn0pO1xuXG4vLyBDdXN0b21lciBhbmFseXRpY3Mgc2NoZW1hXG5leHBvcnQgY29uc3QgY3VzdG9tZXJBbmFseXRpY3MgPSBzcWxpdGVUYWJsZShcImN1c3RvbWVyX2FuYWx5dGljc1wiLCB7XG4gIGlkOiB0ZXh0KFwiaWRcIikubm90TnVsbCgpLnByaW1hcnlLZXkoKSxcbiAgdXNlcklkOiB0ZXh0KFwidXNlcl9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gIHRvdGFsT3JkZXJzOiBpbnRlZ2VyKFwidG90YWxfb3JkZXJzXCIpLm5vdE51bGwoKS5kZWZhdWx0KDApLFxuICB0b3RhbFNwZW50OiByZWFsKFwidG90YWxfc3BlbnRcIikubm90TnVsbCgpLmRlZmF1bHQoMCksXG4gIGZpcnN0T3JkZXJEYXRlOiB0ZXh0KFwiZmlyc3Rfb3JkZXJfZGF0ZVwiKSxcbiAgbGFzdE9yZGVyRGF0ZTogdGV4dChcImxhc3Rfb3JkZXJfZGF0ZVwiKSxcbiAgcHJlZmVycmVkQ2F0ZWdvcmllczogdGV4dChcInByZWZlcnJlZF9jYXRlZ29yaWVzXCIpLCAvLyBKU09OIHN0cmluZ2lmaWVkIGFycmF5IG9mIGNhdGVnb3J5IElEc1xuICBwcmVmZXJyZWRGYXJtZXJzOiB0ZXh0KFwicHJlZmVycmVkX2Zhcm1lcnNcIiksIC8vIEpTT04gc3RyaW5naWZpZWQgYXJyYXkgb2YgZmFybWVyIElEc1xuICB1cGRhdGVkQXQ6IHRleHQoXCJ1cGRhdGVkX2F0XCIpLm5vdE51bGwoKSxcbn0pO1xuXG4vLyBQcm9kdWN0IGFuYWx5dGljcyBzY2hlbWFcbmV4cG9ydCBjb25zdCBwcm9kdWN0QW5hbHl0aWNzID0gc3FsaXRlVGFibGUoXCJwcm9kdWN0X2FuYWx5dGljc1wiLCB7XG4gIGlkOiB0ZXh0KFwiaWRcIikubm90TnVsbCgpLnByaW1hcnlLZXkoKSxcbiAgcHJvZHVjdElkOiB0ZXh0KFwicHJvZHVjdF9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBwcm9kdWN0cy5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gIHRvdGFsU29sZDogaW50ZWdlcihcInRvdGFsX3NvbGRcIikubm90TnVsbCgpLmRlZmF1bHQoMCksXG4gIHRvdGFsUmV2ZW51ZTogcmVhbChcInRvdGFsX3JldmVudWVcIikubm90TnVsbCgpLmRlZmF1bHQoMCksXG4gIGxhc3RTb2xkRGF0ZTogdGV4dChcImxhc3Rfc29sZF9kYXRlXCIpLFxuICB1cGRhdGVkQXQ6IHRleHQoXCJ1cGRhdGVkX2F0XCIpLm5vdE51bGwoKSxcbn0pO1xuIl0sIm5hbWVzIjpbInNxbGl0ZVRhYmxlIiwidGV4dCIsImludGVnZXIiLCJyZWFsIiwidXNlcnMiLCJpZCIsIm5vdE51bGwiLCJwcmltYXJ5S2V5IiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZEhhc2giLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInVzZXJUeXBlIiwiZW51bSIsImNyZWF0ZWRBdCIsImNvbnN1bWVycyIsInJlZmVyZW5jZXMiLCJvbkRlbGV0ZSIsImFkZHJlc3MiLCJjaXR5Iiwic3RhdGUiLCJwb3N0YWxDb2RlIiwicGhvbmVOdW1iZXIiLCJmYXJtZXJzIiwiZmFybU5hbWUiLCJmYXJtRGVzY3JpcHRpb24iLCJmYXJtQWRkcmVzcyIsImlzT3JnYW5pYyIsIm1vZGUiLCJkZWZhdWx0IiwiaXNOb25HTU8iLCJpc1N1c3RhaW5hYmxlIiwiaXNQYXN0dXJlUmFpc2VkIiwicHJvZHVjdENhdGVnb3JpZXMiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJwcm9kdWN0cyIsInByaWNlIiwidW5pdCIsImltYWdlVXJsIiwic3RvY2siLCJjYXRlZ29yeUlkIiwiZmFybWVySWQiLCJjYXJ0SXRlbXMiLCJ1c2VySWQiLCJwcm9kdWN0SWQiLCJxdWFudGl0eSIsIm9yZGVycyIsInRvdGFsIiwic3RhdHVzIiwic2hpcHBpbmdBZGRyZXNzIiwic2hpcHBpbmdDaXR5Iiwic2hpcHBpbmdTdGF0ZSIsInNoaXBwaW5nUG9zdGFsQ29kZSIsInVwZGF0ZWRBdCIsIm9yZGVySXRlbXMiLCJvcmRlcklkIiwicHJpY2VQZXJVbml0IiwicHJvZHVjdE5hbWUiLCJmYXJtZXJSZXZlbnVlIiwiYW1vdW50IiwiZGF0ZSIsImN1c3RvbWVyQW5hbHl0aWNzIiwidG90YWxPcmRlcnMiLCJ0b3RhbFNwZW50IiwiZmlyc3RPcmRlckRhdGUiLCJsYXN0T3JkZXJEYXRlIiwicHJlZmVycmVkQ2F0ZWdvcmllcyIsInByZWZlcnJlZEZhcm1lcnMiLCJwcm9kdWN0QW5hbHl0aWNzIiwidG90YWxTb2xkIiwidG90YWxSZXZlbnVlIiwibGFzdFNvbGREYXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/schema.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/seed.ts":
/*!****************************!*\
  !*** ./src/lib/db/seed.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   seedProductData: () => (/* binding */ seedProductData)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm/v4.js\");\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index */ \"(rsc)/./src/lib/db/index.ts\");\n/* harmony import */ var _schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schema */ \"(rsc)/./src/lib/db/schema.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/sql.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/conditions.js\");\n\n\n\n\n// Sample farmer data for products\n// We'll use this farmer as the producer for our example products\nconst SAMPLE_FARMER_EMAIL = \"john.appleseed@farm2go.com\";\nasync function seedProductData() {\n    try {\n        console.log(\"Seeding product data...\");\n        // Check if data is already seeded\n        const existingCategoriesCount = await _index__WEBPACK_IMPORTED_MODULE_0__.db.select({\n            count: drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.sql`count(*)`\n        }).from(_schema__WEBPACK_IMPORTED_MODULE_1__.productCategories).get();\n        // Skip if we already have product categories\n        if (existingCategoriesCount && existingCategoriesCount.count > 0) {\n            console.log(\"Product data already seeded. Skipping.\");\n            return;\n        }\n        // First, create our sample farmer if they don't exist\n        let farmer = await _index__WEBPACK_IMPORTED_MODULE_0__.db.select().from(_schema__WEBPACK_IMPORTED_MODULE_1__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.eq)(_schema__WEBPACK_IMPORTED_MODULE_1__.users.email, SAMPLE_FARMER_EMAIL)).get();\n        let farmerId;\n        if (!farmer) {\n            // Create a sample farmer\n            farmerId = (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n            const now = new Date().toISOString();\n            // Create base user\n            await _index__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.users).values({\n                id: farmerId,\n                email: SAMPLE_FARMER_EMAIL,\n                passwordHash: \"hashed_farmpassword\",\n                firstName: \"John\",\n                lastName: \"Appleseed\",\n                userType: \"farmer\",\n                createdAt: now\n            });\n            // Create farmer profile\n            await _index__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.farmers).values({\n                id: farmerId,\n                farmName: \"Green Valley Organic Farm\",\n                farmDescription: \"A family-owned organic farm dedicated to sustainable farming practices.\",\n                farmAddress: \"123 Farm Road\",\n                city: \"Greenville\",\n                state: \"CA\",\n                postalCode: \"95432\",\n                phoneNumber: \"555-123-4567\",\n                isOrganic: true,\n                isNonGMO: true,\n                isSustainable: true,\n                isPastureRaised: false\n            });\n            console.log(\"Created sample farmer for product catalog\");\n        } else {\n            // Use the existing farmer\n            farmerId = farmer.id;\n        }\n        // Create product categories\n        const categories = [\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Vegetables\",\n                description: \"Fresh, locally grown vegetables\"\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Fruits\",\n                description: \"Seasonal, organic fruits\"\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Dairy\",\n                description: \"Farm-fresh dairy products\"\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Meat\",\n                description: \"Ethically raised meat products\"\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Eggs\",\n                description: \"Free-range, pasture-raised eggs\"\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Honey & Preserves\",\n                description: \"Local honey and homemade preserves\"\n            }\n        ];\n        for (const category of categories){\n            await _index__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.productCategories).values(category);\n        }\n        console.log(\"Created product categories\");\n        // Get the category IDs for reference\n        const vegetablesId = categories[0].id;\n        const fruitsId = categories[1].id;\n        const dairyId = categories[2].id;\n        const meatId = categories[3].id;\n        const eggsId = categories[4].id;\n        const honeyId = categories[5].id;\n        // Create sample products\n        const sampleProducts = [\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Organic Tomatoes\",\n                description: \"Vine-ripened organic tomatoes, perfect for salads or cooking.\",\n                price: 4.99,\n                unit: \"lb\",\n                imageUrl: \"/images/product-placeholder.jpg\",\n                stock: 50,\n                categoryId: vegetablesId,\n                farmerId: farmerId,\n                isOrganic: true,\n                isNonGMO: true,\n                isSustainable: true,\n                isPastureRaised: false,\n                createdAt: new Date().toISOString()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Free-Range Eggs\",\n                description: \"Farm-fresh eggs from free-range, pasture-raised chickens.\",\n                price: 6.99,\n                unit: \"dozen\",\n                imageUrl: \"/images/product-placeholder.jpg\",\n                stock: 30,\n                categoryId: eggsId,\n                farmerId: farmerId,\n                isOrganic: true,\n                isNonGMO: true,\n                isSustainable: true,\n                isPastureRaised: true,\n                createdAt: new Date().toISOString()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Grass-Fed Beef\",\n                description: \"100% grass-fed beef, raised without antibiotics or hormones.\",\n                price: 12.99,\n                unit: \"lb\",\n                imageUrl: \"/images/product-placeholder.jpg\",\n                stock: 20,\n                categoryId: meatId,\n                farmerId: farmerId,\n                isOrganic: true,\n                isNonGMO: true,\n                isSustainable: true,\n                isPastureRaised: true,\n                createdAt: new Date().toISOString()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Organic Spinach\",\n                description: \"Tender and nutrient-rich organic spinach leaves.\",\n                price: 3.99,\n                unit: \"bunch\",\n                imageUrl: \"/images/product-placeholder.jpg\",\n                stock: 40,\n                categoryId: vegetablesId,\n                farmerId: farmerId,\n                isOrganic: true,\n                isNonGMO: true,\n                isSustainable: true,\n                isPastureRaised: false,\n                createdAt: new Date().toISOString()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Wildflower Honey\",\n                description: \"Raw, unfiltered honey from local wildflower meadows.\",\n                price: 8.99,\n                unit: \"jar\",\n                imageUrl: \"/images/product-placeholder.jpg\",\n                stock: 25,\n                categoryId: honeyId,\n                farmerId: farmerId,\n                isOrganic: true,\n                isNonGMO: true,\n                isSustainable: true,\n                isPastureRaised: false,\n                createdAt: new Date().toISOString()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Artisan Cheese\",\n                description: \"Handcrafted artisan cheese, aged to perfection.\",\n                price: 7.99,\n                unit: \"8oz\",\n                imageUrl: \"/images/product-placeholder.jpg\",\n                stock: 15,\n                categoryId: dairyId,\n                farmerId: farmerId,\n                isOrganic: true,\n                isNonGMO: true,\n                isSustainable: true,\n                isPastureRaised: true,\n                createdAt: new Date().toISOString()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Organic Apples\",\n                description: \"Crisp and sweet organic apples, locally grown.\",\n                price: 2.99,\n                unit: \"lb\",\n                imageUrl: \"/images/product-placeholder.jpg\",\n                stock: 60,\n                categoryId: fruitsId,\n                farmerId: farmerId,\n                isOrganic: true,\n                isNonGMO: true,\n                isSustainable: true,\n                isPastureRaised: false,\n                createdAt: new Date().toISOString()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Fresh Herbs\",\n                description: \"Aromatic fresh herbs, perfect for cooking and garnishing.\",\n                price: 2.49,\n                unit: \"bunch\",\n                imageUrl: \"/images/product-placeholder.jpg\",\n                stock: 35,\n                categoryId: vegetablesId,\n                farmerId: farmerId,\n                isOrganic: true,\n                isNonGMO: true,\n                isSustainable: true,\n                isPastureRaised: false,\n                createdAt: new Date().toISOString()\n            }\n        ];\n        for (const product of sampleProducts){\n            await _index__WEBPACK_IMPORTED_MODULE_0__.db.insert(_schema__WEBPACK_IMPORTED_MODULE_1__.products).values(product);\n        }\n        console.log(\"Created sample products\");\n        console.log(\"Database seeding completed successfully\");\n    } catch (error) {\n        console.error(\"Error seeding product data:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGVBQWU7Z0JBQ2ZDLGlCQUFpQjtnQkFDakJYLFdBQVcsSUFBSVQsT0FBT0MsV0FBVztZQUNuQztTQUNEO1FBRUQsS0FBSyxNQUFNb0MsV0FBV04sZUFBZ0I7WUFDcEMsTUFBTXBELHNDQUFFQSxDQUFDdUIsTUFBTSxDQUFDckIsNkNBQVFBLEVBQUVzQixNQUFNLENBQUNrQztRQUNuQztRQUVBakQsUUFBUUMsR0FBRyxDQUFDO1FBQ1pELFFBQVFDLEdBQUcsQ0FBQztJQUNkLEVBQUUsT0FBT2lELE9BQU87UUFDZGxELFFBQVFrRCxLQUFLLENBQUMsK0JBQStCQTtRQUM3QyxNQUFNQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJtMmdvLy4vc3JjL2xpYi9kYi9zZWVkLnRzP2Q1ODMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IGRiIH0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCB7IHByb2R1Y3RDYXRlZ29yaWVzLCBwcm9kdWN0cywgZmFybWVycywgdXNlcnMgfSBmcm9tIFwiLi9zY2hlbWFcIjtcbmltcG9ydCB7IGVxLCBzcWwgfSBmcm9tIFwiZHJpenpsZS1vcm1cIjtcblxuLy8gU2FtcGxlIGZhcm1lciBkYXRhIGZvciBwcm9kdWN0c1xuLy8gV2UnbGwgdXNlIHRoaXMgZmFybWVyIGFzIHRoZSBwcm9kdWNlciBmb3Igb3VyIGV4YW1wbGUgcHJvZHVjdHNcbmNvbnN0IFNBTVBMRV9GQVJNRVJfRU1BSUwgPSBcImpvaG4uYXBwbGVzZWVkQGZhcm0yZ28uY29tXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWVkUHJvZHVjdERhdGEoKSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCJTZWVkaW5nIHByb2R1Y3QgZGF0YS4uLlwiKTtcblxuICAgIC8vIENoZWNrIGlmIGRhdGEgaXMgYWxyZWFkeSBzZWVkZWRcbiAgICBjb25zdCBleGlzdGluZ0NhdGVnb3JpZXNDb3VudCA9IGF3YWl0IGRiXG4gICAgICAuc2VsZWN0KHsgY291bnQ6IHNxbDxudW1iZXI+YGNvdW50KCopYCB9KVxuICAgICAgLmZyb20ocHJvZHVjdENhdGVnb3JpZXMpXG4gICAgICAuZ2V0KCk7XG5cbiAgICAvLyBTa2lwIGlmIHdlIGFscmVhZHkgaGF2ZSBwcm9kdWN0IGNhdGVnb3JpZXNcbiAgICBpZiAoZXhpc3RpbmdDYXRlZ29yaWVzQ291bnQgJiYgZXhpc3RpbmdDYXRlZ29yaWVzQ291bnQuY291bnQgPiAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlByb2R1Y3QgZGF0YSBhbHJlYWR5IHNlZWRlZC4gU2tpcHBpbmcuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZpcnN0LCBjcmVhdGUgb3VyIHNhbXBsZSBmYXJtZXIgaWYgdGhleSBkb24ndCBleGlzdFxuICAgIGxldCBmYXJtZXIgPSBhd2FpdCBkYlxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuZnJvbSh1c2VycylcbiAgICAgIC53aGVyZShlcSh1c2Vycy5lbWFpbCwgU0FNUExFX0ZBUk1FUl9FTUFJTCkpXG4gICAgICAuZ2V0KCk7XG5cbiAgICBsZXQgZmFybWVySWQ6IHN0cmluZztcblxuICAgIGlmICghZmFybWVyKSB7XG4gICAgICAvLyBDcmVhdGUgYSBzYW1wbGUgZmFybWVyXG4gICAgICBmYXJtZXJJZCA9IHV1aWR2NCgpO1xuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgICAvLyBDcmVhdGUgYmFzZSB1c2VyXG4gICAgICBhd2FpdCBkYi5pbnNlcnQodXNlcnMpLnZhbHVlcyh7XG4gICAgICAgIGlkOiBmYXJtZXJJZCxcbiAgICAgICAgZW1haWw6IFNBTVBMRV9GQVJNRVJfRU1BSUwsXG4gICAgICAgIHBhc3N3b3JkSGFzaDogXCJoYXNoZWRfZmFybXBhc3N3b3JkXCIsXG4gICAgICAgIGZpcnN0TmFtZTogXCJKb2huXCIsXG4gICAgICAgIGxhc3ROYW1lOiBcIkFwcGxlc2VlZFwiLFxuICAgICAgICB1c2VyVHlwZTogXCJmYXJtZXJcIixcbiAgICAgICAgY3JlYXRlZEF0OiBub3csXG4gICAgICB9KTtcblxuICAgICAgLy8gQ3JlYXRlIGZhcm1lciBwcm9maWxlXG4gICAgICBhd2FpdCBkYi5pbnNlcnQoZmFybWVycykudmFsdWVzKHtcbiAgICAgICAgaWQ6IGZhcm1lcklkLFxuICAgICAgICBmYXJtTmFtZTogXCJHcmVlbiBWYWxsZXkgT3JnYW5pYyBGYXJtXCIsXG4gICAgICAgIGZhcm1EZXNjcmlwdGlvbjpcbiAgICAgICAgICBcIkEgZmFtaWx5LW93bmVkIG9yZ2FuaWMgZmFybSBkZWRpY2F0ZWQgdG8gc3VzdGFpbmFibGUgZmFybWluZyBwcmFjdGljZXMuXCIsXG4gICAgICAgIGZhcm1BZGRyZXNzOiBcIjEyMyBGYXJtIFJvYWRcIixcbiAgICAgICAgY2l0eTogXCJHcmVlbnZpbGxlXCIsXG4gICAgICAgIHN0YXRlOiBcIkNBXCIsXG4gICAgICAgIHBvc3RhbENvZGU6IFwiOTU0MzJcIixcbiAgICAgICAgcGhvbmVOdW1iZXI6IFwiNTU1LTEyMy00NTY3XCIsXG4gICAgICAgIGlzT3JnYW5pYzogdHJ1ZSxcbiAgICAgICAgaXNOb25HTU86IHRydWUsXG4gICAgICAgIGlzU3VzdGFpbmFibGU6IHRydWUsXG4gICAgICAgIGlzUGFzdHVyZVJhaXNlZDogZmFsc2UsXG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coXCJDcmVhdGVkIHNhbXBsZSBmYXJtZXIgZm9yIHByb2R1Y3QgY2F0YWxvZ1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVXNlIHRoZSBleGlzdGluZyBmYXJtZXJcbiAgICAgIGZhcm1lcklkID0gZmFybWVyLmlkO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBwcm9kdWN0IGNhdGVnb3JpZXNcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gW1xuICAgICAge1xuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIG5hbWU6IFwiVmVnZXRhYmxlc1wiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJGcmVzaCwgbG9jYWxseSBncm93biB2ZWdldGFibGVzXCIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIG5hbWU6IFwiRnJ1aXRzXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlNlYXNvbmFsLCBvcmdhbmljIGZydWl0c1wiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICBuYW1lOiBcIkRhaXJ5XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkZhcm0tZnJlc2ggZGFpcnkgcHJvZHVjdHNcIixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgbmFtZTogXCJNZWF0XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkV0aGljYWxseSByYWlzZWQgbWVhdCBwcm9kdWN0c1wiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICBuYW1lOiBcIkVnZ3NcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiRnJlZS1yYW5nZSwgcGFzdHVyZS1yYWlzZWQgZWdnc1wiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICBuYW1lOiBcIkhvbmV5ICYgUHJlc2VydmVzXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkxvY2FsIGhvbmV5IGFuZCBob21lbWFkZSBwcmVzZXJ2ZXNcIixcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIGZvciAoY29uc3QgY2F0ZWdvcnkgb2YgY2F0ZWdvcmllcykge1xuICAgICAgYXdhaXQgZGIuaW5zZXJ0KHByb2R1Y3RDYXRlZ29yaWVzKS52YWx1ZXMoY2F0ZWdvcnkpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKFwiQ3JlYXRlZCBwcm9kdWN0IGNhdGVnb3JpZXNcIik7XG5cbiAgICAvLyBHZXQgdGhlIGNhdGVnb3J5IElEcyBmb3IgcmVmZXJlbmNlXG4gICAgY29uc3QgdmVnZXRhYmxlc0lkID0gY2F0ZWdvcmllc1swXS5pZDtcbiAgICBjb25zdCBmcnVpdHNJZCA9IGNhdGVnb3JpZXNbMV0uaWQ7XG4gICAgY29uc3QgZGFpcnlJZCA9IGNhdGVnb3JpZXNbMl0uaWQ7XG4gICAgY29uc3QgbWVhdElkID0gY2F0ZWdvcmllc1szXS5pZDtcbiAgICBjb25zdCBlZ2dzSWQgPSBjYXRlZ29yaWVzWzRdLmlkO1xuICAgIGNvbnN0IGhvbmV5SWQgPSBjYXRlZ29yaWVzWzVdLmlkO1xuXG4gICAgLy8gQ3JlYXRlIHNhbXBsZSBwcm9kdWN0c1xuICAgIGNvbnN0IHNhbXBsZVByb2R1Y3RzID0gW1xuICAgICAge1xuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIG5hbWU6IFwiT3JnYW5pYyBUb21hdG9lc1wiLFxuICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICBcIlZpbmUtcmlwZW5lZCBvcmdhbmljIHRvbWF0b2VzLCBwZXJmZWN0IGZvciBzYWxhZHMgb3IgY29va2luZy5cIixcbiAgICAgICAgcHJpY2U6IDQuOTksXG4gICAgICAgIHVuaXQ6IFwibGJcIixcbiAgICAgICAgaW1hZ2VVcmw6IFwiL2ltYWdlcy9wcm9kdWN0LXBsYWNlaG9sZGVyLmpwZ1wiLFxuICAgICAgICBzdG9jazogNTAsXG4gICAgICAgIGNhdGVnb3J5SWQ6IHZlZ2V0YWJsZXNJZCxcbiAgICAgICAgZmFybWVySWQ6IGZhcm1lcklkLFxuICAgICAgICBpc09yZ2FuaWM6IHRydWUsXG4gICAgICAgIGlzTm9uR01POiB0cnVlLFxuICAgICAgICBpc1N1c3RhaW5hYmxlOiB0cnVlLFxuICAgICAgICBpc1Bhc3R1cmVSYWlzZWQ6IGZhbHNlLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgbmFtZTogXCJGcmVlLVJhbmdlIEVnZ3NcIixcbiAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgXCJGYXJtLWZyZXNoIGVnZ3MgZnJvbSBmcmVlLXJhbmdlLCBwYXN0dXJlLXJhaXNlZCBjaGlja2Vucy5cIixcbiAgICAgICAgcHJpY2U6IDYuOTksXG4gICAgICAgIHVuaXQ6IFwiZG96ZW5cIixcbiAgICAgICAgaW1hZ2VVcmw6IFwiL2ltYWdlcy9wcm9kdWN0LXBsYWNlaG9sZGVyLmpwZ1wiLFxuICAgICAgICBzdG9jazogMzAsXG4gICAgICAgIGNhdGVnb3J5SWQ6IGVnZ3NJZCxcbiAgICAgICAgZmFybWVySWQ6IGZhcm1lcklkLFxuICAgICAgICBpc09yZ2FuaWM6IHRydWUsXG4gICAgICAgIGlzTm9uR01POiB0cnVlLFxuICAgICAgICBpc1N1c3RhaW5hYmxlOiB0cnVlLFxuICAgICAgICBpc1Bhc3R1cmVSYWlzZWQ6IHRydWUsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICBuYW1lOiBcIkdyYXNzLUZlZCBCZWVmXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgIFwiMTAwJSBncmFzcy1mZWQgYmVlZiwgcmFpc2VkIHdpdGhvdXQgYW50aWJpb3RpY3Mgb3IgaG9ybW9uZXMuXCIsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgdW5pdDogXCJsYlwiLFxuICAgICAgICBpbWFnZVVybDogXCIvaW1hZ2VzL3Byb2R1Y3QtcGxhY2Vob2xkZXIuanBnXCIsXG4gICAgICAgIHN0b2NrOiAyMCxcbiAgICAgICAgY2F0ZWdvcnlJZDogbWVhdElkLFxuICAgICAgICBmYXJtZXJJZDogZmFybWVySWQsXG4gICAgICAgIGlzT3JnYW5pYzogdHJ1ZSxcbiAgICAgICAgaXNOb25HTU86IHRydWUsXG4gICAgICAgIGlzU3VzdGFpbmFibGU6IHRydWUsXG4gICAgICAgIGlzUGFzdHVyZVJhaXNlZDogdHJ1ZSxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIG5hbWU6IFwiT3JnYW5pYyBTcGluYWNoXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlRlbmRlciBhbmQgbnV0cmllbnQtcmljaCBvcmdhbmljIHNwaW5hY2ggbGVhdmVzLlwiLFxuICAgICAgICBwcmljZTogMy45OSxcbiAgICAgICAgdW5pdDogXCJidW5jaFwiLFxuICAgICAgICBpbWFnZVVybDogXCIvaW1hZ2VzL3Byb2R1Y3QtcGxhY2Vob2xkZXIuanBnXCIsXG4gICAgICAgIHN0b2NrOiA0MCxcbiAgICAgICAgY2F0ZWdvcnlJZDogdmVnZXRhYmxlc0lkLFxuICAgICAgICBmYXJtZXJJZDogZmFybWVySWQsXG4gICAgICAgIGlzT3JnYW5pYzogdHJ1ZSxcbiAgICAgICAgaXNOb25HTU86IHRydWUsXG4gICAgICAgIGlzU3VzdGFpbmFibGU6IHRydWUsXG4gICAgICAgIGlzUGFzdHVyZVJhaXNlZDogZmFsc2UsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICBuYW1lOiBcIldpbGRmbG93ZXIgSG9uZXlcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiUmF3LCB1bmZpbHRlcmVkIGhvbmV5IGZyb20gbG9jYWwgd2lsZGZsb3dlciBtZWFkb3dzLlwiLFxuICAgICAgICBwcmljZTogOC45OSxcbiAgICAgICAgdW5pdDogXCJqYXJcIixcbiAgICAgICAgaW1hZ2VVcmw6IFwiL2ltYWdlcy9wcm9kdWN0LXBsYWNlaG9sZGVyLmpwZ1wiLFxuICAgICAgICBzdG9jazogMjUsXG4gICAgICAgIGNhdGVnb3J5SWQ6IGhvbmV5SWQsXG4gICAgICAgIGZhcm1lcklkOiBmYXJtZXJJZCxcbiAgICAgICAgaXNPcmdhbmljOiB0cnVlLFxuICAgICAgICBpc05vbkdNTzogdHJ1ZSxcbiAgICAgICAgaXNTdXN0YWluYWJsZTogdHJ1ZSxcbiAgICAgICAgaXNQYXN0dXJlUmFpc2VkOiBmYWxzZSxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIG5hbWU6IFwiQXJ0aXNhbiBDaGVlc2VcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiSGFuZGNyYWZ0ZWQgYXJ0aXNhbiBjaGVlc2UsIGFnZWQgdG8gcGVyZmVjdGlvbi5cIixcbiAgICAgICAgcHJpY2U6IDcuOTksXG4gICAgICAgIHVuaXQ6IFwiOG96XCIsXG4gICAgICAgIGltYWdlVXJsOiBcIi9pbWFnZXMvcHJvZHVjdC1wbGFjZWhvbGRlci5qcGdcIixcbiAgICAgICAgc3RvY2s6IDE1LFxuICAgICAgICBjYXRlZ29yeUlkOiBkYWlyeUlkLFxuICAgICAgICBmYXJtZXJJZDogZmFybWVySWQsXG4gICAgICAgIGlzT3JnYW5pYzogdHJ1ZSxcbiAgICAgICAgaXNOb25HTU86IHRydWUsXG4gICAgICAgIGlzU3VzdGFpbmFibGU6IHRydWUsXG4gICAgICAgIGlzUGFzdHVyZVJhaXNlZDogdHJ1ZSxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIG5hbWU6IFwiT3JnYW5pYyBBcHBsZXNcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiQ3Jpc3AgYW5kIHN3ZWV0IG9yZ2FuaWMgYXBwbGVzLCBsb2NhbGx5IGdyb3duLlwiLFxuICAgICAgICBwcmljZTogMi45OSxcbiAgICAgICAgdW5pdDogXCJsYlwiLFxuICAgICAgICBpbWFnZVVybDogXCIvaW1hZ2VzL3Byb2R1Y3QtcGxhY2Vob2xkZXIuanBnXCIsXG4gICAgICAgIHN0b2NrOiA2MCxcbiAgICAgICAgY2F0ZWdvcnlJZDogZnJ1aXRzSWQsXG4gICAgICAgIGZhcm1lcklkOiBmYXJtZXJJZCxcbiAgICAgICAgaXNPcmdhbmljOiB0cnVlLFxuICAgICAgICBpc05vbkdNTzogdHJ1ZSxcbiAgICAgICAgaXNTdXN0YWluYWJsZTogdHJ1ZSxcbiAgICAgICAgaXNQYXN0dXJlUmFpc2VkOiBmYWxzZSxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIG5hbWU6IFwiRnJlc2ggSGVyYnNcIixcbiAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgXCJBcm9tYXRpYyBmcmVzaCBoZXJicywgcGVyZmVjdCBmb3IgY29va2luZyBhbmQgZ2FybmlzaGluZy5cIixcbiAgICAgICAgcHJpY2U6IDIuNDksXG4gICAgICAgIHVuaXQ6IFwiYnVuY2hcIixcbiAgICAgICAgaW1hZ2VVcmw6IFwiL2ltYWdlcy9wcm9kdWN0LXBsYWNlaG9sZGVyLmpwZ1wiLFxuICAgICAgICBzdG9jazogMzUsXG4gICAgICAgIGNhdGVnb3J5SWQ6IHZlZ2V0YWJsZXNJZCxcbiAgICAgICAgZmFybWVySWQ6IGZhcm1lcklkLFxuICAgICAgICBpc09yZ2FuaWM6IHRydWUsXG4gICAgICAgIGlzTm9uR01POiB0cnVlLFxuICAgICAgICBpc1N1c3RhaW5hYmxlOiB0cnVlLFxuICAgICAgICBpc1Bhc3R1cmVSYWlzZWQ6IGZhbHNlLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIGZvciAoY29uc3QgcHJvZHVjdCBvZiBzYW1wbGVQcm9kdWN0cykge1xuICAgICAgYXdhaXQgZGIuaW5zZXJ0KHByb2R1Y3RzKS52YWx1ZXMocHJvZHVjdCk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coXCJDcmVhdGVkIHNhbXBsZSBwcm9kdWN0c1wiKTtcbiAgICBjb25zb2xlLmxvZyhcIkRhdGFiYXNlIHNlZWRpbmcgY29tcGxldGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc2VlZGluZyBwcm9kdWN0IGRhdGE6XCIsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbInY0IiwidXVpZHY0IiwiZGIiLCJwcm9kdWN0Q2F0ZWdvcmllcyIsInByb2R1Y3RzIiwiZmFybWVycyIsInVzZXJzIiwiZXEiLCJzcWwiLCJTQU1QTEVfRkFSTUVSX0VNQUlMIiwic2VlZFByb2R1Y3REYXRhIiwiY29uc29sZSIsImxvZyIsImV4aXN0aW5nQ2F0ZWdvcmllc0NvdW50Iiwic2VsZWN0IiwiY291bnQiLCJmcm9tIiwiZ2V0IiwiZmFybWVyIiwid2hlcmUiLCJlbWFpbCIsImZhcm1lcklkIiwibm93IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiaW5zZXJ0IiwidmFsdWVzIiwiaWQiLCJwYXNzd29yZEhhc2giLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInVzZXJUeXBlIiwiY3JlYXRlZEF0IiwiZmFybU5hbWUiLCJmYXJtRGVzY3JpcHRpb24iLCJmYXJtQWRkcmVzcyIsImNpdHkiLCJzdGF0ZSIsInBvc3RhbENvZGUiLCJwaG9uZU51bWJlciIsImlzT3JnYW5pYyIsImlzTm9uR01PIiwiaXNTdXN0YWluYWJsZSIsImlzUGFzdHVyZVJhaXNlZCIsImNhdGVnb3JpZXMiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJjYXRlZ29yeSIsInZlZ2V0YWJsZXNJZCIsImZydWl0c0lkIiwiZGFpcnlJZCIsIm1lYXRJZCIsImVnZ3NJZCIsImhvbmV5SWQiLCJzYW1wbGVQcm9kdWN0cyIsInByaWNlIiwidW5pdCIsImltYWdlVXJsIiwic3RvY2siLCJjYXRlZ29yeUlkIiwicHJvZHVjdCIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/seed.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/drizzle-orm","vendor-chunks/uuid","vendor-chunks/date-fns"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcheckout%2Froute&page=%2Fapi%2Fcheckout%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcheckout%2Froute.ts&appDir=%2FUsers%2Fuoron%2FDesktop%2FWINTER_2025%2FSOEN357%2FSOEN357-Farm2Go%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fuoron%2FDesktop%2FWINTER_2025%2FSOEN357%2FSOEN357-Farm2Go&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();